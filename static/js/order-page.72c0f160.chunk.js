"use strict";(self.webpackChunkbookstore=self.webpackChunkbookstore||[]).push([[345],{8779:function(e,n,r){r.d(n,{o:function(){return N}});var s=r(1413),a=r(5861),t=r(9439),o=r(7757),c=r.n(o),i=r(5705),l=r(6727),p=l.Ry().shape({email:l.Z_().matches(/^[-!#$%&'*+/=?^_`{|}~A-Za-z0-9]+(?:\.[-!#$%&'*+/=?^_`{|}~A-Za-z0-9]+)*@([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])?\.)+[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9]/,"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u0440\u0435\u043a\u0442\u043d\u0438\u0439 email address").required("Email \u0454 \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0438\u043c"),password:l.Z_().required("\u041f\u0430\u0440\u043e\u043b\u044c \u0454 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0438\u043c").min(6,"\u041f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u0431\u0443\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432")}),u=r(5470),m={formWrapper:"FormLogin_formWrapper__MoR9m",buttonSubmit:"FormLogin_buttonSubmit__hUEtG",buttonSubmitGap:"FormLogin_buttonSubmitGap__dCX3g",buttonCancel:"FormLogin_buttonCancel__z0EFc",blockButton:"FormLogin_blockButton__37reB",inputGroup:"FormLogin_inputGroup__HmQxn",inputLabel:"FormLogin_inputLabel__nHSSY",input:"FormLogin_input__0g-56",inputGroupBlock:"FormLogin_inputGroupBlock__6KT7q",errorInput:"FormLogin_errorInput__lOfS7",showPasswordButton:"FormLogin_showPasswordButton__tcUAH",iconShow:"FormLogin_iconShow__lYJLc",wrapperLock:"FormLogin_wrapperLock__Fjke9",lockLink:"FormLogin_lockLink__HOptD",spinner:"FormLogin_spinner__PiQCS"},d=r(2791),h=r(1087),_=r(9434),x=r(874),j=r(2489),f=r(6351),g=r(1394),v=r(3329);function N(){var e=(0,d.useState)(!1),n=(0,t.Z)(e,2),r=n[0],o=n[1],l=(0,_.v9)(f.hg),N=(0,_.I0)(),b=(0,i.TA)({initialValues:{email:"",password:""},validationSchema:p,onSubmit:function(){var e=(0,a.Z)(c().mark((function e(n){var r,a,t,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object.keys(n).reduce((function(e,r){return n[r]&&(e[r]=n[r]),e}),{}),e.next=4,N((0,x.pH)((0,s.Z)({},r)));case 4:if("fulfilled"!==(a=e.sent).meta.requestStatus){e.next=8;break}return e.next=8,N((0,x.ar)()).then((function(e){return"fulfilled"===e.meta.requestStatus}));case 8:"rejected"===a.meta.requestStatus&&Z((0,g.K)((0,s.Z)({},r))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Z({error:null===e.t0||void 0===e.t0||null===(t=e.t0.response)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}()}),C=b.values,P=C.email,w=C.password,L=b.errors,k=b.touched,S=b.isValid,I=b.dirty,F=b.handleBlur,O=b.handleChange,A=b.handleSubmit,Z=b.setErrors;return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:m.formWrapper,children:[(0,v.jsxs)("form",{onSubmit:A,children:[(0,v.jsxs)("div",{className:m.inputGroupBlock,children:[(0,v.jsxs)("div",{className:m.inputGroup,children:[(0,v.jsx)("label",{className:m.inputLabel,htmlFor:"email",children:"Email"}),(0,v.jsx)("input",{className:m.input,type:"text",name:"email",id:"email",placeholder:"Email",value:P,onChange:O,onBlur:F}),L.email&&k.email&&(0,v.jsx)("small",{className:m.errorInput,children:L.email}),L.error&&(0,v.jsx)("small",{className:m.errorInput,children:L.error})]}),(0,v.jsxs)("div",{className:m.inputGroup,children:[(0,v.jsx)("label",{className:m.inputLabel,htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,v.jsx)("input",{className:m.input,type:r?"text":"password",name:"password",id:"password",placeholder:"\u0421\u0442\u0430\u0440\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",value:w,onChange:O,onBlur:F}),(0,v.jsx)("button",{type:"button",onClick:function(){return o(!r)},className:m.showPasswordButton,children:r?(0,v.jsx)(u.U.SHOWPASS,{className:m.iconShow}):(0,v.jsx)(u.U.CLOSEPASS,{className:m.iconClose})}),L.password&&k.password&&(0,v.jsxs)("small",{className:m.errorInput,children:[L.password," ",L.error]}),L.error&&(0,v.jsx)("small",{className:m.errorInput,children:L.error})]})]}),(0,v.jsxs)("div",{className:m.wrapperLock,children:[(0,v.jsx)(u.U.LOCK,{className:m.iconLock}),(0,v.jsx)(h.rU,{to:"#",className:m.lockLink,children:"\u0417\u0430\u0431\u0443\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})]}),(0,v.jsx)("div",{className:m.blockButton,children:(0,v.jsx)("button",{className:"".concat(m.buttonSubmit),type:"submit",disabled:!S&&!I,children:"\u0423\u0432\u0456\u0439\u0442\u0438"})})]}),l&&(0,v.jsx)("div",{className:m.spinner,children:(0,v.jsx)(j.$,{})})]})})}},589:function(e,n,r){r.d(n,{t:function(){return m}});var s="TotalPricePageComponent_wrapperPrice__mZQqE",a="TotalPricePageComponent_title__uIwfh",t="TotalPricePageComponent_listPrice__QGHSq",o="TotalPricePageComponent_textItemGroup__58XH4",c="TotalPricePageComponent_itemPrice__-i6ra",i="TotalPricePageComponent_textItem__gJcmA",l="TotalPricePageComponent_buttonPrice__AB4zF",p="TotalPricePageComponent_success__G3Gsx",u=r(3329),m=function(e){var n=e.handleSubmit,r=e.total,m=e.orderTotal,d=e.totalDiscount,h=e.shippingCost,_=e.successMessage;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:s,children:[(0,u.jsx)("span",{className:a,children:"\u0420\u0430\u0437\u043e\u043c"}),(0,u.jsxs)("ul",{className:t,children:[(0,u.jsx)("li",{className:c,children:(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)("span",{className:i,children:"\u0421\u0443\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,u.jsxs)("span",{className:i,children:[r," \u0433\u0440\u043d"]})]})}),(0,u.jsx)("li",{className:c,children:(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)("span",{className:i,children:"\u0417\u043d\u0438\u0436\u043a\u0430"}),(0,u.jsxs)("span",{className:i,children:[d," %"]})]})}),(0,u.jsx)("li",{className:c,children:(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)("span",{className:i,children:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),(0,u.jsxs)("span",{className:i,children:[h," \u0433\u0440\u043d"]})]})}),(0,u.jsx)("li",{className:c,children:(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)("span",{className:i,children:"\u0421\u0443\u043c\u0430 \u0440\u0430\u0437\u043e\u043c"}),(0,u.jsxs)("span",{className:i,children:[m," \u0433\u0440\u043d"]})]})})]}),_&&(0,u.jsx)("p",{className:p,children:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0434\u044f\u043a\u0443\u0454\u043c\u043e"}),!_&&(0,u.jsx)("button",{className:l,type:"button",onClick:n,children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0443\u044e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"})]})})}},7998:function(e,n,r){r.r(n),r.d(n,{default:function(){return T}});var s=r(5861),a=r(9439),t=r(7757),o=r.n(t),c=r(1087),i=r(8509),l=r(7282),p=r(8812),u="OrderPageComponent_wrapperPageForm__3YY1X",m="OrderPageComponent_groupTotalPrice__wp+FJ",d="OrderPageComponent_blockWrapper__5LCl0",h="OrderPageComponent_title__UdfG2",_="OrderPageComponent_wrapperpageActive__uJffw",x="OrderPageComponent_blockpageActive__IpgDL",j="OrderPageComponent_titleWrapper__NZefa",f="OrderPageComponent_titleForm__1IYfm",g="OrderPageComponent_pageActive__zyQnl",v="OrderPageComponent_activeLink__+IylA",N="OrderPageComponent_inactiveLink__i2cqP",b=r(8779),C=r(1523),P=r(6351),w=r(9434),L=r(7689),k=r(5470),S={wrapper:"ClientInfoPageComponent_wrapper__kA2pz",infoWrapper:"ClientInfoPageComponent_infoWrapper__r9Ccw",iconInfo:"ClientInfoPageComponent_iconInfo__gmxQF",wrapperButtonChange:"ClientInfoPageComponent_wrapperButtonChange__H3IN8",groupIcon:"ClientInfoPageComponent_groupIcon__Puznh",textSpan:"ClientInfoPageComponent_textSpan__0Mbpj"},I=r(5188),F=r(3329);function O(){var e=(0,L.s0)(),n=(0,L.TH)(),r=(0,w.v9)(P.ng),s=(0,w.v9)(P.Gr),a=(0,w.v9)(P.Pp),t=(0,w.v9)(P.gV),o=(0,w.v9)(P.g6);return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("div",{className:S.wrapper,children:(0,F.jsxs)("div",{className:S.infoWrapper,children:[(0,F.jsxs)("ul",{className:S.blockSpan,children:[(0,F.jsxs)("li",{className:S.groupIcon,children:[(0,F.jsx)(k.U.USER,{className:S.iconInfo}),(0,F.jsxs)("span",{className:S.textSpan,children:[r," ",s," ",a]})]}),(0,F.jsxs)("li",{className:S.groupIcon,children:[(0,F.jsx)(k.U.EMAIL,{className:S.iconInfo}),(0,F.jsx)("span",{className:S.textSpan,children:t})]}),(0,F.jsxs)("li",{className:S.groupIcon,children:[(0,F.jsx)(k.U.CALL,{className:S.iconInfo}),(0,F.jsx)("span",{className:S.textSpan,children:o})]})]}),(0,F.jsx)("div",{children:(0,F.jsx)("div",{className:S.wrapperButtonChange,children:(0,F.jsx)("button",{onClick:function(r){r.preventDefault(),e("/"+I.a.PROFILE,{state:{from:n}})},className:"".concat(S.buttonChange),type:"submit",children:(0,F.jsx)(k.U.EDIT,{className:S.iconEdit})})})})]})})})}var A=r(2791),Z=r(874),U=r(7782),y=r(589),E=r(8967),G=r(7396),B=function(){var e=(0,A.useState)(!1),n=(0,a.Z)(e,2),r=n[0],t=n[1],L=(0,w.v9)(P.Od),k=(0,w.v9)(P.fq),S=(0,w.v9)(P.ng),I=(0,w.v9)(P.Gr),B=(0,w.v9)(P.Pp),T=(0,w.v9)(P.g6),z=(0,w.v9)(P.gV),D=(0,E.tf)(k),H=(D*(100-E.UU)/100+E.Pp).toFixed(1),q=(0,w.I0)();(0,A.useEffect)((function(){function e(){return(e=(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q((0,Z.ar)());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}L&&function(){e.apply(this,arguments)}()}),[q,L]);var W=(0,A.useRef)(null),R=function(){var e=(0,s.Z)(o().mark((function e(n){var r,s,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in n.preventDefault(),r=new FormData(W.current),s=Object.fromEntries(r.entries()))Object.hasOwnProperty.call(s,a)&&(c=s[a],r.set(a,c));if(r.set("name",S||""),r.set("lastName",I||""),r.set("fathersName",B||""),r.set("phone",T||""),r.set("email",z||""),r.set("shippingCost",E.Pp||""),r.set("totalDiscount",E.UU||""),r.set("total",D||""),r.set("orderTotal",H||""),e.prev=13,!L){e.next=18;break}return e.next=17,(0,G.p)(r);case 17:t(!0);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(13),console.error(e.t0);case 23:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(n){return e.apply(this,arguments)}}();return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(l.W,{children:(0,F.jsx)(p.A,{children:(0,F.jsxs)("div",{className:u,children:[(0,F.jsxs)("div",{children:[(0,F.jsx)(i.O,{breadcrumbs:[U.L.HOME,U.L.ORDER]}),(0,F.jsx)("h2",{className:h,children:"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,F.jsxs)("div",{className:d,children:[(0,F.jsx)("div",{className:j,children:(0,F.jsx)("span",{className:f,children:"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0456 \u0434\u0430\u043d\u0456"})}),(0,F.jsxs)("div",{className:_,children:[(0,F.jsx)("div",{className:x,children:L?(0,F.jsx)(c.OL,{className:function(e){return e.isActive?"".concat(g," ").concat(v):"".concat(g," ").concat(N)},to:"/order",children:"\u041d\u043e\u0432\u0438\u0439 \u043f\u043e\u043a\u0443\u043f\u0435\u0446\u044c"}):(0,F.jsx)(c.OL,{className:function(e){return e.isActive?"".concat(g," ").concat(v):"".concat(g," ").concat(N)},to:"/register",children:"\u041d\u043e\u0432\u0438\u0439 \u043f\u043e\u043a\u0443\u043f\u0435\u0446\u044c"})}),(0,F.jsx)("div",{className:x,children:(0,F.jsx)(c.OL,{onClick:L?function(e){return e.preventDefault()}:null,className:function(e){return e.isActive?"".concat(g," ").concat(v):"".concat(g," ").concat(N)},to:"/login",children:"\u041f\u043e\u0441\u0442\u0456\u0439\u043d\u0438\u0439 \u043a\u043b\u0456\u0454\u043d\u0442"})})]})]}),L?(0,F.jsx)(O,{}):(0,F.jsx)(b.o,{}),(0,F.jsx)(C.cr,{handleSubmit:R,ref:W})]}),(0,F.jsx)("div",{className:m,children:(0,F.jsx)(y.t,{handleSubmit:R,total:D,orderTotal:H,totalDiscount:E.UU,shippingCost:E.Pp,successMessage:r})})]})})})})},T=function(){return(0,F.jsx)(B,{})}},7396:function(e,n,r){r.d(n,{p:function(){return c}});var s=r(5861),a=r(7757),t=r.n(a),o=r(1243),c=function(){var e=(0,s.Z)(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.post("https://script.google.com/macros/s/AKfycbwGNE5UVZqPbUbTNllZ5eegu9lhs7PnZH-tfLWzjwr4xa5yFjULUsD00Simh5iSc_dw/exec",n);case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=order-page.72c0f160.chunk.js.map