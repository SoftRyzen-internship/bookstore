"use strict";(self.webpackChunkbookstore=self.webpackChunkbookstore||[]).push([[332],{8509:function(e,t,a){a.d(t,{O:function(){return l}});var n=a(1087),s="Breadcrumbs_container__vetp5",r="Breadcrumbs_item__dxLbb",i="Breadcrumbs_link__v9yGv",c=a(3329),l=function(e){var t=e.breadcrumbs;return t&&(0,c.jsx)("ul",{className:s,children:t.map((function(e,t){return(0,c.jsx)("li",{className:r,children:(0,c.jsx)(n.rU,{to:e.path,className:i,children:e.name})},t)}))})}},1881:function(e,t,a){a.d(t,{m:function(){return r}});var n="SpinnerButton_loader__NJWd7",s=a(3329),r=function(e){var t=e.className;return(0,s.jsx)("span",{className:"".concat(n," ").concat(t)})}},7782:function(e,t,a){a.d(t,{L:function(){return n}});var n={HOME:{path:"/books/",name:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"},ORDER:{path:"/order/",name:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"},PROFILE:{path:"/profile/",name:"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0439 \u043a\u0430\u0431\u0456\u043d\u0435\u0442"},LOGIN:{path:"/login/",name:"\u0421\u0442\u043e\u0440\u0456\u043d\u043a\u0430 \u0440\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u0457"},REGISTER:{path:"/register/",name:"\u0421\u0442\u043e\u0440\u0456\u043d\u043a\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0456\u043a\u0430\u0446\u0456\u0457"},BOOK_ADD:{path:"/books/add/",name:"\u0414\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f \u043a\u043d\u0438\u0433\u0438"},BOOK_EDIT:{path:"edit/",name:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f \u043a\u043d\u0438\u0433\u0438"},BOOK_DETAIL:{path:":id/",name:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"}}},8914:function(e,t,a){a.d(t,{i:function(){return l}});var n=a(5861),s=a(9439),r=a(7757),i=a.n(r),c=a(2791),l=function(e,t,a){var r=(0,c.useState)(a),l=(0,s.Z)(r,2),o=l[0],u=l[1],d=(0,c.useState)(!1),_=(0,s.Z)(d,2),m=_[0],p=_[1],h=(0,c.useState)(),f=(0,s.Z)(h,2),x=f[0],v=f[1];return(0,c.useEffect)((function(){var t=function(){var t=(0,n.Z)(i().mark((function t(){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(!0),t.next=4,e();case 4:a=t.sent,u(a.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),v(t.t0);case 11:return t.prev=11,p(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(){return t.apply(this,arguments)}}();t()}),t),{data:o,loading:m,error:x}}},9038:function(e,t,a){a.r(t),a.d(t,{default:function(){return q}});var n=a(7689),s=a(8914),r=a(9546),i=a(7782),c=a(8509),l=a(9439),o=a(2791),u="ImageGallery_gallery__1SruY",d="ImageGallery_imgBigContainer__7Ie+4",_="ImageGallery_imgBig__reBI4",m="ImageGallery_imageList__8q2ko",p="ImageGallery_item__bPIux",h="ImageGallery_itemSelected__yaKHM",f="ImageGallery_imgSmall__mLB7R",x=a(3329),v=function(e){var t=e.images,a=(0,o.useState)(t[0].id),n=(0,l.Z)(a,2),s=n[0],r=n[1];return(0,x.jsxs)("div",{className:u,children:[(0,x.jsx)("ul",{className:m,children:t.map((function(e){return(0,x.jsx)("li",{className:"".concat(p," ").concat(s===e.id?h:""," "),children:(0,x.jsx)("img",{src:e.imageUrl,alt:e.alt,onClick:function(){return t=e.id,void r(t);var t},className:f,width:53,height:78})},e.id)}))}),(0,x.jsx)("div",{className:d,children:(0,x.jsx)("img",{src:t.find((function(e){return e.id===s})).imageUrl,alt:t.find((function(e){return e.id===s})).alt,className:_,width:371,height:543})})]})},j=a(5861),b=a(7757),B=a.n(b),k=a(9434),I=a(8906),N=a(6351),g=a(1522),y=a(5188),T=a(5470),O=a(1881),D={container:"BlockInfo_container__-ivP+",title:"BlockInfo_title__yTsKM",wrapper:"BlockInfo_wrapper__nFSiO",author:"BlockInfo_author__z442Q",reviews:"BlockInfo_reviews__CPdTH",tabs:"BlockInfo_tabs__FPxEE",activeTab:"BlockInfo_activeTab__qkACD",disableTab:"BlockInfo_disableTab__cZe+J",detailsWrapper:"BlockInfo_detailsWrapper__eFe+F",buyWrapper:"BlockInfo_buyWrapper__q-sss",price:"BlockInfo_price__oQHzc",buyButton:"BlockInfo_buyButton__bJsJW",favoriteWrapper:"BlockInfo_favoriteWrapper__TUXD4",favoriteText:"BlockInfo_favoriteText__jPusS",detailsItem:"BlockInfo_detailsItem__DaUD8",text:"BlockInfo_text__qvsIq",value:"BlockInfo_value__p18tq",editButtonContainer:"BlockInfo_editButtonContainer__3y0iR",editButton:"BlockInfo_editButton__7SoCt",deleteButton:"BlockInfo_deleteButton__sky39"},C=function(e){var t,a,s=e.data,i=(0,k.v9)(N.Rg),c=(0,k.v9)(N.fq),u=(0,k.I0)(),d=(0,o.useState)(!1),_=(0,l.Z)(d,2),m=_[0],p=_[1],h=(0,o.useState)(!1),f=(0,l.Z)(h,2),v=f[0],b=f[1],C=(0,n.s0)(),w=(0,n.TH)(),E=null===w||void 0===w?void 0:w.state,S=(null===E||void 0===E||null===(t=E.from)||void 0===t?void 0:t.pathname)+(null===E||void 0===E||null===(a=E.from)||void 0===a?void 0:a.search),W=null===E||void 0===E?void 0:E.count,L=function(e){var t=parseInt(e.match(/page=(\d+)/)[1]);return e.replace(/page=\d+/,"page=".concat(1===t?t:t-1))},R=function(){var e=(0,j.Z)(B().mark((function e(t){var a;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,(0,r.MC)(s._id);case 4:a=e.sent,b(!1),200===a.status&&C(S?1===W?L(S):S:y.a.HOME),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),b(!1),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:D.container,children:[(0,x.jsx)("p",{className:D.title,children:s.title}),(0,x.jsxs)("div",{className:D.wrapper,children:[(0,x.jsx)("p",{className:D.author,children:s.author}),(0,x.jsx)("p",{className:D.reviews,children:"".concat(s.reviews?s.reviews:0," \u0432\u0456\u0434\u0433\u0443\u043a\u0456\u0432")})]}),(0,x.jsxs)("div",{className:D.tabs,children:[(0,x.jsx)("button",{type:"button",className:D.activeTab,children:"\u041f\u0430\u043f\u0435\u0440\u043e\u0432\u0430 \u043a\u043d\u0438\u0433\u0430"}),(0,x.jsx)("button",{type:"button",className:D.disableTab,children:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u043a\u043d\u0438\u0433\u0430"})]}),(0,x.jsxs)("div",{className:D.detailsWrapper,children:[(0,x.jsxs)("div",{className:D.buyWrapper,children:[(0,x.jsx)("p",{className:D.price,children:"".concat(s.price,".00 \u0433\u0440\u043d")}),i===g.I.BUYER&&(0,x.jsxs)("button",{type:"button",className:D.buyButton,onClick:function(){u((0,I.LS)(s))},children:[(0,x.jsx)(T.U.CART_FULL,{}),c.find((function(e){return e._id===s._id}))?"\u0412 \u043a\u043e\u0448\u0438\u043a\u0443":"\u041a\u0443\u043f\u0438\u0442\u0438"]})]}),(0,x.jsxs)("div",{className:D.favoriteWrapper,children:[(0,x.jsx)("button",{type:"button",className:D.favoriteBtn,onClick:function(){return p(!m)},children:m?(0,x.jsx)(T.U.FAVORITE_ACTIVE,{}):(0,x.jsx)(T.U.FAVORITE,{width:24,height:24,fill:"var(--red)"})}),(0,x.jsx)("p",{className:D.favoriteText,children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432 \u043e\u0431\u0440\u0430\u043d\u0435"})]}),(0,x.jsxs)("ul",{className:D.detailsList,children:[(0,x.jsxs)("li",{className:D.detailsItem,children:[(0,x.jsx)("p",{className:D.text,children:"\u0420\u0456\u043a \u0432\u0438\u0434\u0430\u043d\u043d\u044f:"}),(0,x.jsx)("p",{className:D.value,children:s.book_year})]}),(0,x.jsxs)("li",{className:D.detailsItem,children:[(0,x.jsx)("p",{className:D.text,children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0441\u0442\u043e\u0440\u0456\u043d\u043e\u043a:"}),(0,x.jsx)("p",{className:D.value,children:s.book_page_count})]})]})]}),i===g.I.ADMIN&&(0,x.jsxs)("ul",{className:D.editButtonContainer,children:[(0,x.jsx)("li",{children:(0,x.jsxs)("button",{type:"button",className:D.editButton,onClick:function(){C(y.a.BOOK_EDIT,{state:{from:w}})},children:[(0,x.jsx)(T.U.EDIT,{}),"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"]})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{type:"button",className:D.deleteButton,onClick:R,children:v?(0,x.jsx)(O.m,{}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(T.U.TRASH,{}),"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"]})})})]})]})},w=a(2489),E=a(7282),S="BlockDescription_container__683jR",W="BlockDescription_tabs__Y1f+P",L="BlockDescription_activeTab__WXCJD",R="BlockDescription_disableTab__OnjO4",U="BlockDescription_descriptionWrapper__njLYj",G="BlockDescription_title__B02e-",A="BlockDescription_value__nWRlw",F=function(e){var t=e.data;return(0,x.jsxs)("div",{className:S,children:[(0,x.jsxs)("div",{className:W,children:[(0,x.jsx)("button",{type:"button",className:L,children:"\u041e\u043f\u0438\u0441 \u0442\u043e\u0432\u0430\u0440\u0443"}),(0,x.jsx)("button",{type:"button",className:R,children:"\u0417\u043c\u0456\u0441\u0442 \u043a\u043d\u0438\u0433\u0438"}),(0,x.jsx)("button",{type:"button",className:R,children:"\u0424\u0440\u0430\u0433\u043c\u0435\u043d\u0442 \u0437 \u043a\u043d\u0438\u0433\u0438"}),(0,x.jsx)("button",{type:"button",className:R,children:"\u0412\u0456\u0434\u0433\u0443\u043a\u0438 \u043f\u043e\u043a\u0443\u043f\u0446\u0456\u0432"})]}),(0,x.jsxs)("div",{className:U,children:[(0,x.jsx)("p",{className:G,children:"\u0410\u043d\u043e\u0442\u0430\u0446\u0456\u044f"}),(0,x.jsx)("p",{className:A,children:t.description})]})]})},P="BookDetailsPageComponent_container__yQSQG",Z="BookDetailsPageComponent_wrapper__oti0I",H=function(){var e=(0,n.UO)().id,t=(0,s.i)((function(){return(0,r.zd)(e)}),[]),a=t.data,l=t.loading,o=[];return a&&(o=a.media_gallery_image.map((function(e,t){return{id:t,imageUrl:e,alt:"img-".concat(t)}}))),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:P,children:(0,x.jsxs)(E.W,{children:[(0,x.jsx)(c.O,{breadcrumbs:[i.L.HOME,i.L.BOOK_DETAIL]}),(0,x.jsxs)("div",{className:Z,children:[l&&(0,x.jsx)(w.$,{}),a&&!!o.length&&(0,x.jsx)(v,{images:o}),a&&(0,x.jsx)(C,{data:a})]})]})}),(0,x.jsx)(E.W,{children:a&&(0,x.jsx)(F,{data:a})})]})},q=function(){return(0,x.jsx)(H,{})}}}]);
//# sourceMappingURL=book-page.acad5bfe.chunk.js.map