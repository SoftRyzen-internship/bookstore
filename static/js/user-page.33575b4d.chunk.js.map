{"version":3,"file":"static/js/user-page.33575b4d.chunk.js","mappings":"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","sources":["webpack://bookstore/./src/components/Sidebar/CategoryItem/CategoryItem.module.scss?9fad","components/Sidebar/CategoryItem/CategoryItem.jsx","services/categories.js","webpack://bookstore/./src/components/Sidebar/Sidebar.module.scss?60bc","components/Sidebar/Sidebar.jsx","components/Form/FormUser/FormUser.jsx","components/UserPageComponent/UserPageComponent.jsx","pages/UserPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"listItem\":\"CategoryItem_listItem__VYXIw\",\"categoryLink\":\"CategoryItem_categoryLink__BeeYW\",\"subcategories\":\"CategoryItem_subcategories__MxZtE\",\"listItemSubcatigories\":\"CategoryItem_listItemSubcatigories__Vj--g\",\"subcategoryLink\":\"CategoryItem_subcategoryLink__P8uSx\",\"active\":\"CategoryItem_active__Qn3fG\"};","import { Link } from 'react-router-dom';\nimport { getSubcategories } from 'services/categories';\nimport s from './CategoryItem.module.scss';\n\nexport const CategoryItem = ({\n  category,\n  activeCategoryId,\n  setActiveCategoryId,\n  setSubcategories,\n  subcategories,\n  subcategoriesRef,\n}) => {\n  const handleMouseEnter = categoryId => {\n    if (subcategories.length === 0 || activeCategoryId !== categoryId) {\n      getSubcategories(categoryId)\n        .then(subcategories => {\n          setSubcategories(subcategories);\n          setActiveCategoryId(categoryId);\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    }\n  };\n\n  const handleMouseLeave = () => {\n    setActiveCategoryId(null);\n  };\n\n  const isActive = activeCategoryId === category.id;\n\n  return (\n    <li\n      className={`${s.listItem} ${isActive ? s.active : ''}`}\n      key={category.id}\n    >\n      <Link\n        className={s.categoryLink}\n        to={`#`}\n        onMouseEnter={() => handleMouseEnter(category.id)}\n      >\n        {category.name}\n      </Link>\n      {isActive && (\n        <ul\n          ref={subcategoriesRef}\n          className={`${s.subcategories} ${s.active}`}\n          onMouseLeave={handleMouseLeave} // додаємо подію на виїзд курсора миші зі списку підкатегорій\n        >\n          {subcategories.map(subcategory => (\n            <li key={subcategory.id} className={s.listItemSubcatigories}>\n              <Link className={s.subcategoryLink} to={`#`}>\n                {subcategory.name}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </li>\n  );\n};\n","import CATEGORIES from './data/categories.json';\n\nexport const getCategories = () => {\n  return Promise.resolve(CATEGORIES.categories);\n};\n\nexport const getSubcategories = categoryId => {\n  const category = CATEGORIES.categories.find(\n    category => category.id === categoryId\n  );\n  if (category && category.subcategories) {\n    return Promise.resolve(category.subcategories);\n  }\n  return Promise.resolve([]);\n};\n\n// import axios from 'axios';\n\n// export const getCategories = () => {\n//   return (\n//     axios\n//       .get('/data/categories.json')\n//       .then(response => response.data.categories)\n//   );\n// };\n\n// export const getSubcategories = categoryId => {\n//   return axios.get('/data/categories.json').then(response => {\n//     const category = response.data.categories.find(\n//       category => category.id === categoryId\n//     );\n//     if (category && category.subcategories) {\n//       return category.subcategories;\n//     }\n//     return [];\n//   });\n// };\n","// extracted by mini-css-extract-plugin\nexport default {\"sidebar\":\"Sidebar_sidebar__S9EbY\",\"titleWrapper\":\"Sidebar_titleWrapper__dNIir\",\"title\":\"Sidebar_title__MRu-G\",\"listWrapper\":\"Sidebar_listWrapper__tarnB\",\"categoriesWrapper\":\"Sidebar_categoriesWrapper__7GAp9\"};","import { useEffect, useRef, useState } from 'react';\nimport { getCategories } from 'services/categories';\nimport { CategoryItem } from './CategoryItem';\nimport s from './Sidebar.module.scss';\n\nexport const Sidebar = () => {\n  const [categories, setCategories] = useState([]);\n  const [activeCategoryId, setActiveCategoryId] = useState(null);\n  const [subcategories, setSubcategories] = useState([]);\n\n  useEffect(() => {\n    getCategories()\n      .then(categories => {\n        setCategories(categories);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, []);\n\n  const asideRef = useRef(null);\n  const subcategoriesRef = useRef(null);\n\n  const handleClickOutside = e => {\n    if (\n      asideRef.current &&\n      !asideRef.current.contains(e.target) &&\n      subcategoriesRef.current &&\n      !subcategoriesRef.current.contains(e.target)\n    ) {\n      setActiveCategoryId(null);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('click', handleClickOutside);\n\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n    };\n  }, []);\n\n  const handleClickAside = () => {\n    setActiveCategoryId(null);\n  };\n\n  return (\n    <aside ref={asideRef} className={s.sidebar} onClick={handleClickAside}>\n      <div className={s.titleWrapper}>\n        <h2 className={s.title}>Категорії</h2>\n      </div>\n      <div className={s.categoriesWrapper}>\n        <ul className={s.listWrapper}>\n          {categories.map(category => (\n            <CategoryItem\n              category={category}\n              key={category.id}\n              activeCategoryId={activeCategoryId}\n              setActiveCategoryId={setActiveCategoryId}\n              setSubcategories={setSubcategories}\n              subcategories={subcategories}\n              subcategoriesRef={subcategoriesRef}\n            />\n          ))}\n        </ul>\n      </div>\n    </aside>\n  );\n};\n","export function FormUser() {\n  return <div>FormUser</div>;\n}\n","import { Container } from 'components/Containers/Container';\nimport { FlexWrapper } from 'components/Containers/FlexWrapper';\nimport { FormUser } from 'components/Form/FormUser';\nimport { Sidebar } from 'components/Sidebar';\n\nexport const UserPageComponent = () => {\n  return (\n    <Container>\n      <FlexWrapper>\n        <Sidebar />\n        <FormUser />\n      </FlexWrapper>\n    </Container>\n  );\n};\n","import { UserPageComponent } from 'components/UserPageComponent';\n\nconst UserPage = () => {\n  return <UserPageComponent />;\n};\n\nexport default UserPage;\n"],"names":["CategoryItem","category","activeCategoryId","setActiveCategoryId","setSubcategories","subcategories","subcategoriesRef","handleMouseEnter","categoryId","length","CATEGORIES","id","Promise","resolve","getSubcategories","then","catch","error","console","log","isActive","className","s","to","onMouseEnter","name","ref","onMouseLeave","map","subcategory","Sidebar","useState","categories","setCategories","useEffect","asideRef","useRef","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","onClick","FormUser","UserPageComponent","Container","FlexWrapper"],"sourceRoot":""}