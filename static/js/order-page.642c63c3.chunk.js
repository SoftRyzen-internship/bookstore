"use strict";(self.webpackChunkbookstore=self.webpackChunkbookstore||[]).push([[345],{8779:function(e,n,a){a.d(n,{o:function(){return N}});var s=a(1413),r=a(5861),t=a(9439),o=a(7757),c=a.n(o),i=a(5705),l=a(6727),p=l.Ry().shape({email:l.Z_().matches(/^[-!#$%&'*+/=?^_`{|}~A-Za-z0-9]+(?:\.[-!#$%&'*+/=?^_`{|}~A-Za-z0-9]+)*@([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])?\.)+[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9]/,"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u0440\u0435\u043a\u0442\u043d\u0438\u0439 email address").required("Email \u0454 \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0438\u043c"),password:l.Z_().required("\u041f\u0430\u0440\u043e\u043b\u044c \u0454 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0438\u043c").min(6,"\u041f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u0431\u0443\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432")}),m=a(5470),u={formWrapper:"FormLogin_formWrapper__MoR9m",buttonSubmit:"FormLogin_buttonSubmit__hUEtG",buttonSubmitGap:"FormLogin_buttonSubmitGap__dCX3g",buttonCancel:"FormLogin_buttonCancel__z0EFc",blockButton:"FormLogin_blockButton__37reB",inputGroup:"FormLogin_inputGroup__HmQxn",inputLabel:"FormLogin_inputLabel__nHSSY",input:"FormLogin_input__0g-56",inputGroupBlock:"FormLogin_inputGroupBlock__6KT7q",errorInput:"FormLogin_errorInput__lOfS7",showPasswordButton:"FormLogin_showPasswordButton__tcUAH",iconShow:"FormLogin_iconShow__lYJLc",wrapperLock:"FormLogin_wrapperLock__Fjke9",lockLink:"FormLogin_lockLink__HOptD",spinner:"FormLogin_spinner__PiQCS"},d=a(2791),_=a(1087),h=a(9434),x=a(874),j=a(2489),g=a(6351),f=a(1394),v=a(3329);function N(){var e=(0,d.useState)(!1),n=(0,t.Z)(e,2),a=n[0],o=n[1],l=(0,h.v9)(g.hg),N=(0,h.I0)(),P=(0,i.TA)({initialValues:{email:"",password:""},validationSchema:p,onSubmit:function(){var e=(0,r.Z)(c().mark((function e(n){var a,r,t,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object.keys(n).reduce((function(e,a){return n[a]&&(e[a]=n[a]),e}),{}),e.next=4,N((0,x.pH)((0,s.Z)({},a)));case 4:if("fulfilled"!==(r=e.sent).meta.requestStatus){e.next=8;break}return e.next=8,N((0,x.ar)()).then((function(e){return"fulfilled"===e.meta.requestStatus}));case 8:"rejected"===r.meta.requestStatus&&T((0,f.K)((0,s.Z)({},a))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),T({error:null===e.t0||void 0===e.t0||null===(t=e.t0.response)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}()}),C=P.values,b=C.email,w=C.password,L=P.errors,k=P.touched,S=P.isValid,I=P.dirty,F=P.handleBlur,O=P.handleChange,A=P.handleSubmit,T=P.setErrors;return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:u.formWrapper,children:[(0,v.jsxs)("form",{onSubmit:A,children:[(0,v.jsxs)("div",{className:u.inputGroupBlock,children:[(0,v.jsxs)("div",{className:u.inputGroup,children:[(0,v.jsx)("label",{className:u.inputLabel,htmlFor:"email",children:"Email"}),(0,v.jsx)("input",{className:u.input,type:"text",name:"email",id:"email",placeholder:"Email",value:b,onChange:O,onBlur:F}),L.email&&k.email&&(0,v.jsx)("small",{className:u.errorInput,children:L.email}),L.error&&(0,v.jsx)("small",{className:u.errorInput,children:L.error})]}),(0,v.jsxs)("div",{className:u.inputGroup,children:[(0,v.jsx)("label",{className:u.inputLabel,htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,v.jsx)("input",{className:u.input,type:a?"text":"password",name:"password",id:"password",placeholder:"\u0421\u0442\u0430\u0440\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",value:w,onChange:O,onBlur:F}),(0,v.jsx)("button",{type:"button",onClick:function(){return o(!a)},className:u.showPasswordButton,children:a?(0,v.jsx)(m.U.SHOWPASS,{className:u.iconShow}):(0,v.jsx)(m.U.CLOSEPASS,{className:u.iconClose})}),L.password&&k.password&&(0,v.jsxs)("small",{className:u.errorInput,children:[L.password," ",L.error]}),L.error&&(0,v.jsx)("small",{className:u.errorInput,children:L.error})]})]}),(0,v.jsxs)("div",{className:u.wrapperLock,children:[(0,v.jsx)(m.U.LOCK,{className:u.iconLock}),(0,v.jsx)(_.rU,{to:"#",className:u.lockLink,children:"\u0417\u0430\u0431\u0443\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})]}),(0,v.jsx)("div",{className:u.blockButton,children:(0,v.jsx)("button",{className:"".concat(u.buttonSubmit),type:"submit",disabled:!S&&!I,children:"\u0423\u0432\u0456\u0439\u0442\u0438"})})]}),l&&(0,v.jsx)("div",{className:u.spinner,children:(0,v.jsx)(j.$,{})})]})})}},589:function(e,n,a){a.d(n,{t:function(){return f}});var s=a(9434),r="TotalPricePageComponent_wrapperPrice__mZQqE",t="TotalPricePageComponent_title__uIwfh",o="TotalPricePageComponent_listPrice__QGHSq",c="TotalPricePageComponent_textItemGroup__58XH4",i="TotalPricePageComponent_itemPrice__-i6ra",l="TotalPricePageComponent_textItem__gJcmA",p="TotalPricePageComponent_buttonPrice__AB4zF",m="TotalPricePageComponent_buttonPriceError__cq5Ps",u="TotalPricePageComponent_success__G3Gsx",d="TotalPricePageComponent_error__OadKS",_="TotalPricePageComponent_spinner__wUKnr",h=a(6351),x=a(7288),j=a(2489),g=a(3329),f=function(e){var n=e.handleSubmit,a=e.total,f=e.orderTotal,v=e.totalDiscount,N=e.shippingCost,P=(0,s.v9)(h.Od),C=(0,s.v9)(h.hC),b=(0,s.v9)(h.BR),w=(0,s.v9)(h.ob),L=(0,s.v9)(h.m),k=(0,x.c2)(C);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:r,children:[(0,g.jsx)("span",{className:t,children:"\u0420\u0430\u0437\u043e\u043c"}),(0,g.jsxs)("ul",{className:o,children:[(0,g.jsx)("li",{className:i,children:(0,g.jsxs)("div",{className:c,children:[(0,g.jsx)("span",{className:l,children:"\u0421\u0443\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,g.jsxs)("span",{className:l,children:[a," \u0433\u0440\u043d"]})]})}),(0,g.jsx)("li",{className:i,children:(0,g.jsxs)("div",{className:c,children:[(0,g.jsx)("span",{className:l,children:"\u0417\u043d\u0438\u0436\u043a\u0430"}),(0,g.jsxs)("span",{className:l,children:[v," %"]})]})}),(0,g.jsx)("li",{className:i,children:(0,g.jsxs)("div",{className:c,children:[(0,g.jsx)("span",{className:l,children:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),(0,g.jsxs)("span",{className:l,children:[N," \u0433\u0440\u043d"]})]})}),(0,g.jsx)("li",{className:i,children:(0,g.jsxs)("div",{className:c,children:[(0,g.jsx)("span",{className:l,children:"\u0421\u0443\u043c\u0430 \u0440\u0430\u0437\u043e\u043c"}),(0,g.jsxs)("span",{className:l,children:[f," \u0433\u0440\u043d"]})]})})]}),(0,g.jsx)("button",{className:"".concat(w||!P&&!b?m:p),type:"button",onClick:n,disabled:w||!P&&!b,children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0443\u044e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,g.jsx)("div",{children:(0,g.jsx)("small",{className:d,children:k})}),b?(0,g.jsx)("small",{className:u,children:"\u0412\u0430\u0448\u0435 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"}):null,P||b?null:(0,g.jsx)("small",{className:u,children:"\u0414\u043b\u044f \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043a\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0443\u0432\u0456\u0439\u0442\u0438 \u0430\u0431\u043e \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f"}),L&&(0,g.jsx)("div",{className:_,children:(0,g.jsx)(j.$,{})})]})})}},7998:function(e,n,a){a.r(n),a.d(n,{default:function(){return y}});var s=a(5861),r=a(7757),t=a.n(r),o=a(1087),c=a(8509),i=a(7282),l=a(8812),p="OrderPageComponent_wrapperPageForm__3YY1X",m="OrderPageComponent_groupTotalPrice__wp+FJ",u="OrderPageComponent_blockWrapper__5LCl0",d="OrderPageComponent_title__UdfG2",_="OrderPageComponent_wrapperpageActive__uJffw",h="OrderPageComponent_blockpageActive__IpgDL",x="OrderPageComponent_titleWrapper__NZefa",j="OrderPageComponent_titleForm__1IYfm",g="OrderPageComponent_pageActive__zyQnl",f="OrderPageComponent_activeLink__+IylA",v="OrderPageComponent_inactiveLink__i2cqP",N=a(8779),P=a(1523),C=a(6351),b=a(9434),w=a(7689),L=a(5470),k={wrapper:"ClientInfoPageComponent_wrapper__kA2pz",infoWrapper:"ClientInfoPageComponent_infoWrapper__r9Ccw",iconInfo:"ClientInfoPageComponent_iconInfo__gmxQF",wrapperButtonChange:"ClientInfoPageComponent_wrapperButtonChange__H3IN8",groupIcon:"ClientInfoPageComponent_groupIcon__Puznh",textSpan:"ClientInfoPageComponent_textSpan__0Mbpj"},S=a(5188),I=a(3329);function F(){var e=(0,w.s0)(),n=(0,w.TH)(),a=(0,b.v9)(C.ng),s=(0,b.v9)(C.Gr),r=(0,b.v9)(C.Pp),t=(0,b.v9)(C.gV),o=(0,b.v9)(C.g6);return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)("div",{className:k.wrapper,children:(0,I.jsxs)("div",{className:k.infoWrapper,children:[(0,I.jsxs)("ul",{className:k.blockSpan,children:[(0,I.jsxs)("li",{className:k.groupIcon,children:[(0,I.jsx)(L.U.USER,{className:k.iconInfo}),(0,I.jsxs)("span",{className:k.textSpan,children:[a," ",s," ",r]})]}),(0,I.jsxs)("li",{className:k.groupIcon,children:[(0,I.jsx)(L.U.EMAIL,{className:k.iconInfo}),(0,I.jsx)("span",{className:k.textSpan,children:t})]}),(0,I.jsxs)("li",{className:k.groupIcon,children:[(0,I.jsx)(L.U.CALL,{className:k.iconInfo}),(0,I.jsx)("span",{className:k.textSpan,children:o})]})]}),(0,I.jsx)("div",{children:(0,I.jsx)("div",{className:k.wrapperButtonChange,children:(0,I.jsx)("button",{onClick:function(a){a.preventDefault(),e("/"+S.a.PROFILE,{state:{from:n}})},className:"".concat(k.buttonChange),type:"submit",children:(0,I.jsx)(L.U.EDIT,{className:k.iconEdit})})})})]})})})}var O=a(2791),A=a(874),T=a(7782),U=a(589),B=a(8967),E=a(7841),Z=function(){var e=(0,b.v9)(C.Od),n=(0,b.v9)(C.fq),a=(0,b.v9)(C.ng),r=(0,b.v9)(C.Gr),w=(0,b.v9)(C.Pp),L=(0,b.v9)(C.g6),k=(0,b.v9)(C.gV),S=(0,B.tf)(n),Z=(S*(100-B.UU)/100+B.Pp).toFixed(1),y=(0,b.I0)();(0,O.useEffect)((function(){function n(){return(n=(0,s.Z)(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y((0,A.ar)());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e&&function(){n.apply(this,arguments)}()}),[y,e]);var G=(0,O.useRef)(null),z=function(){var n=(0,s.Z)(t().mark((function n(s){var o,c,i,l;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(i in s.preventDefault(),o=new FormData(G.current),c=Object.fromEntries(o.entries()))Object.hasOwnProperty.call(c,i)&&(l=c[i],o.set(i,l));o.set("name",a||""),o.set("lastName",r||""),o.set("fathersName",w||""),o.set("phone",L||""),o.set("email",k||""),o.set("shippingCost",B.Pp||""),o.set("totalDiscount",B.UU||""),o.set("total",S||""),o.set("orderTotal",Z||"");try{e&&y((0,E.Q)(o)).unwrap()}catch(t){}case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(i.W,{children:(0,I.jsx)(l.A,{children:(0,I.jsxs)("div",{className:p,children:[(0,I.jsxs)("div",{children:[(0,I.jsx)(c.O,{breadcrumbs:[T.L.HOME,T.L.ORDER]}),(0,I.jsx)("h2",{className:d,children:"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,I.jsxs)("div",{className:u,children:[(0,I.jsx)("div",{className:x,children:(0,I.jsx)("span",{className:j,children:"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0456 \u0434\u0430\u043d\u0456"})}),(0,I.jsxs)("div",{className:_,children:[(0,I.jsx)("div",{className:h,children:e?(0,I.jsx)(o.OL,{className:function(e){return e.isActive?"".concat(g," ").concat(f):"".concat(g," ").concat(v)},to:"/order",children:"\u041d\u043e\u0432\u0438\u0439 \u043f\u043e\u043a\u0443\u043f\u0435\u0446\u044c"}):(0,I.jsx)(o.OL,{className:function(e){return e.isActive?"".concat(g," ").concat(f):"".concat(g," ").concat(v)},to:"/register",children:"\u041d\u043e\u0432\u0438\u0439 \u043f\u043e\u043a\u0443\u043f\u0435\u0446\u044c"})}),(0,I.jsx)("div",{className:h,children:(0,I.jsx)(o.OL,{onClick:e?function(e){return e.preventDefault()}:null,className:function(e){return e.isActive?"".concat(g," ").concat(f):"".concat(g," ").concat(v)},to:"/login",children:"\u041f\u043e\u0441\u0442\u0456\u0439\u043d\u0438\u0439 \u043a\u043b\u0456\u0454\u043d\u0442"})})]})]}),e?(0,I.jsx)(F,{}):(0,I.jsx)(N.o,{}),(0,I.jsx)(P.cr,{handleSubmit:z,ref:G})]}),(0,I.jsx)("div",{className:m,children:(0,I.jsx)(U.t,{handleSubmit:z,total:S,orderTotal:Z,totalDiscount:B.UU,shippingCost:B.Pp})})]})})})})},y=function(){return(0,I.jsx)(Z,{})}}}]);
//# sourceMappingURL=order-page.642c63c3.chunk.js.map