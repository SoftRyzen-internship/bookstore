{"version":3,"file":"static/js/book-edit-page.209ffad4.chunk.js","mappings":"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","sources":["webpack://bookstore/./src/components/Sidebar/CategoryItem/CategoryItem.module.scss?9fad","components/Sidebar/CategoryItem/CategoryItem.jsx","services/categories.js","webpack://bookstore/./src/components/Sidebar/Sidebar.module.scss?60bc","components/Sidebar/Sidebar.jsx","webpack://bookstore/./src/components/BookEditPageComponent/BookEditPageComponent.module.scss?66b9","components/BookEditPageComponent/BookEditPageComponent.jsx","pages/BookEditPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"listItem\":\"CategoryItem_listItem__VYXIw\",\"categoryLink\":\"CategoryItem_categoryLink__BeeYW\",\"subcategories\":\"CategoryItem_subcategories__MxZtE\",\"listItemSubcatigories\":\"CategoryItem_listItemSubcatigories__Vj--g\",\"subcategoryLink\":\"CategoryItem_subcategoryLink__P8uSx\",\"active\":\"CategoryItem_active__Qn3fG\"};","import { Link } from 'react-router-dom';\nimport { getSubcategories } from 'services/categories';\nimport s from './CategoryItem.module.scss';\nimport { memo } from 'react';\n\nexport const CategoryItem = memo(\n  ({\n    category,\n    activeCategoryId,\n    setActiveCategoryId,\n    setSubcategories,\n    subcategories,\n    subcategoriesRef,\n  }) => {\n    const handleMouseEnter = categoryId => {\n      if (subcategories.length === 0 || activeCategoryId !== categoryId) {\n        getSubcategories(categoryId)\n          .then(subcategories => {\n            setSubcategories(subcategories);\n            setActiveCategoryId(categoryId);\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      }\n    };\n\n    const isActive = activeCategoryId === category.id;\n\n    return (\n      <li\n        className={`${s.listItem} ${isActive ? s.active : ''}`}\n        key={category.id}\n        onClick={() => setActiveCategoryId(null)}\n      >\n        <Link\n          className={s.categoryLink}\n          to={`#`}\n          onClick={() => handleMouseEnter(category.id)}\n        >\n          {category.name}\n        </Link>\n        {isActive && (\n          <ul\n            ref={subcategoriesRef}\n            className={`${s.subcategories} ${s.active}`}\n          >\n            {subcategories.map(subcategory => (\n              <li key={subcategory.id} className={s.listItemSubcatigories}>\n                <Link className={s.subcategoryLink} to={`#`}>\n                  {subcategory.name}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        )}\n      </li>\n    );\n  }\n);\n","import CATEGORIES from './data/categories.json';\n\nexport const getCategories = () => {\n  return Promise.resolve(CATEGORIES.categories);\n};\n\nexport const getSubcategories = categoryId => {\n  const category = CATEGORIES.categories.find(\n    category => category.id === categoryId\n  );\n  if (category && category.subcategories) {\n    return Promise.resolve(category.subcategories);\n  }\n  return Promise.resolve([]);\n};\n\n// import axios from 'axios';\n\n// export const getCategories = () => {\n//   return (\n//     axios\n//       .get('/data/categories.json')\n//       .then(response => response.data.categories)\n//   );\n// };\n\n// export const getSubcategories = categoryId => {\n//   return axios.get('/data/categories.json').then(response => {\n//     const category = response.data.categories.find(\n//       category => category.id === categoryId\n//     );\n//     if (category && category.subcategories) {\n//       return category.subcategories;\n//     }\n//     return [];\n//   });\n// };\n","// extracted by mini-css-extract-plugin\nexport default {\"sidebar\":\"Sidebar_sidebar__S9EbY\",\"titleWrapper\":\"Sidebar_titleWrapper__dNIir\",\"title\":\"Sidebar_title__MRu-G\",\"listWrapper\":\"Sidebar_listWrapper__tarnB\",\"categoriesWrapper\":\"Sidebar_categoriesWrapper__7GAp9\"};","import { useEffect, useRef, useState } from 'react';\nimport { getCategories } from 'services/categories';\nimport { CategoryItem } from './CategoryItem';\nimport s from './Sidebar.module.scss';\n\nexport const Sidebar = () => {\n  const [categories, setCategories] = useState([]);\n  const [activeCategoryId, setActiveCategoryId] = useState(null);\n  const [subcategories, setSubcategories] = useState([]);\n\n  useEffect(() => {\n    getCategories()\n      .then(categories => {\n        setCategories(categories);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, []);\n\n  const asideRef = useRef(null);\n  const subcategoriesRef = useRef(null);\n\n  const handleClickOutside = e => {\n    if (\n      asideRef.current &&\n      !asideRef.current.contains(e.target) &&\n      subcategoriesRef.current &&\n      !subcategoriesRef.current.contains(e.target)\n    ) {\n      setActiveCategoryId(null);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('click', handleClickOutside);\n\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n    };\n  }, []);\n\n  return (\n    <aside ref={asideRef} className={s.sidebar}>\n      <div className={s.titleWrapper}>\n        <h2 className={s.title}>Категорії</h2>\n      </div>\n      <div className={s.categoriesWrapper}>\n        <ul className={s.listWrapper}>\n          {categories.map(category => (\n            <CategoryItem\n              category={category}\n              key={category.id}\n              activeCategoryId={activeCategoryId}\n              setActiveCategoryId={setActiveCategoryId}\n              setSubcategories={setSubcategories}\n              subcategories={subcategories}\n              subcategoriesRef={subcategoriesRef}\n            />\n          ))}\n        </ul>\n      </div>\n    </aside>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"BookEditPageComponent_container__ETAky\",\"title\":\"BookEditPageComponent_title__hX4dP\"};","import { Container } from 'components/Containers/Container';\nimport { FlexWrapper } from 'components/Containers/FlexWrapper';\nimport { Sidebar } from 'components/Sidebar';\nimport { Breadcrumbs } from 'components/Breadcrumbs';\nimport { BookEditForm } from 'components/Forms';\nimport { pages } from 'constants/pages';\n\nimport s from './BookEditPageComponent.module.scss';\n\nexport const BookEditPageComponent = () => {\n  return (\n    <Container>\n      <FlexWrapper>\n        <Sidebar />\n        <div className={s.container}>\n          <Breadcrumbs breadcrumbs={[pages.HOME, pages.BOOK_EDIT]} />\n          <p className={s.title}>Редагування книги</p>\n          <BookEditForm />\n        </div>\n      </FlexWrapper>\n    </Container>\n  );\n};\n","import { BookEditPageComponent } from 'components/BookEditPageComponent';\n\nconst BookEditPage = () => {\n  return <BookEditPageComponent />;\n};\n\nexport default BookEditPage;\n"],"names":["CategoryItem","memo","category","activeCategoryId","setActiveCategoryId","setSubcategories","subcategories","subcategoriesRef","handleMouseEnter","categoryId","length","CATEGORIES","id","Promise","resolve","getSubcategories","then","catch","error","console","log","isActive","className","s","onClick","to","name","ref","map","subcategory","Sidebar","useState","categories","setCategories","useEffect","asideRef","useRef","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","BookEditPageComponent","Container","FlexWrapper","Breadcrumbs","breadcrumbs","pages"],"sourceRoot":""}