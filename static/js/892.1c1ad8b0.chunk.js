"use strict";(self.webpackChunkbookstore=self.webpackChunkbookstore||[]).push([[892],{7778:function(e,a,i){i.d(a,{O:function(){return n}});var r=i(3329),n=function(){return(0,r.jsx)("div",{children:"Breadcrumbs"})}},5116:function(e,a,i){i.d(a,{v:function(){return q},G:function(){return G}});var r=i(3433),n=i(5861),l=i(9439),t=i(7757),s=i.n(t),o=i(2791),c=i(7689),u=i(5705),m=i(6727),d=m.Ry({title:m.Z_().required("\u041d\u0430\u0437\u0432\u0430 \u043a\u043d\u0438\u0433\u0438 \u0454 \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0438\u043c \u043f\u043e\u043b\u0435\u043c").max(32,"\u041d\u0430\u0437\u0432\u0430 \u043a\u043d\u0438\u0433\u0438 \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 32 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"),author:m.Z_().required("\u0410\u0432\u0442\u043e\u0440 \u043a\u043d\u0438\u0433\u0438 \u0454 \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0438\u043c \u043f\u043e\u043b\u0435\u043c").max(32,"\u0410\u0432\u0442\u043e\u0440 \u043a\u043d\u0438\u0433\u0438 \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 32 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"),type:m.Z_().oneOf(["","paper"],"\u041d\u0435 \u0432\u0456\u0440\u043d\u0438\u0439 \u0442\u0438\u043f"),book_year:m.Rx().required("\u0420\u0456\u043a \u0432\u0438\u0434\u0438\u043d\u043d\u044f \u0454 \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0438\u043c").test("year","\u041d\u0435 \u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442",(function(e){return e&&4===e.toString().length})),book_page_count:m.Z_().required("\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0441\u0442\u043e\u0440\u0456\u043d\u043e\u043a \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0430").test("count","\u0426\u0456\u043b\u0435 \u0447\u0438\u0441\u043b\u043e \u0432\u0456\u0434 10 \u0434\u043e 1500",(function(e){return!isNaN(Number(e))&&/^\d+$/.test(e)&&Number(e)>=10&&Number(e)<=1500})),description:m.Z_().required("\u041e\u043f\u0438\u0441 \u0454 \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0438\u043c \u043f\u043e\u043b\u0435\u043c").max(5e3,"\u041e\u043f\u0438\u0441 \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 5000 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"),small_image:m.Z_().matches(/^[\S]+[\S\s]*[\S]+$/,"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435 \u043f\u043e\u0447\u0438\u043d\u0430\u0442\u0438\u0441\u044f \u0430\u0431\u043e \u0437\u0430\u043a\u0456\u043d\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u043f\u0440\u043e\u0431\u0456\u043b\u043e\u043c").url("\u0411\u0443\u0434\u044c-\u043b\u0430\u0441\u043a\u0430 \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u043b\u0456\u0434\u043d\u0438\u0439 URL").matches(/^.{10,}$/,"URL \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 10 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432").matches(/^(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|jpeg|png|JPG|JPEG|PNG)$/,"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 jpg, jpeg, png \u0444\u043e\u0440\u043c\u0430\u0442\u0443 ").required("URL \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043a\u0430\u0440\u0442\u043a\u0438 \u0442\u043e\u0432\u0430\u0440\u0443 \u0454 \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0438\u043c"),big_image:m.Z_().matches(/^[\S]+[\S\s]*[\S]+$/,"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435 \u043f\u043e\u0447\u0438\u043d\u0430\u0442\u0438\u0441\u044f \u0430\u0431\u043e \u0437\u0430\u043a\u0456\u043d\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u043f\u0440\u043e\u0431\u0456\u043b\u043e\u043c").url("\u0411\u0443\u0434\u044c-\u043b\u0430\u0441\u043a\u0430 \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u043b\u0456\u0434\u043d\u0438\u0439 URL").matches(/^.{10,}$/,"URL \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 10 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432").matches(/^(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|jpeg|png|JPG|JPEG|PNG)$/,"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 jpg, jpeg, png \u0444\u043e\u0440\u043c\u0430\u0442\u0443 ").required("\u041f\u043e\u0441\u0442\u0435\u0440 \u0454 \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0438\u043c"),price:m.Z_().required("\u0426\u0456\u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u0443 \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0430").test("price","\u0427\u0438\u0441\u043b\u043e \u0432\u0456\u0434 1 \u0434\u043e 5000",(function(e){return!isNaN(Number(e))&&Number(e)>=1&&Number(e)<=5e3})),discount:m.Z_().test("discount","\u0427\u0438\u0441\u043b\u043e \u0432\u0456\u0434 0 \u0434\u043e 5000",(function(e){return!isNaN(Number(e))&&Number(e)>=0&&Number(e)<=5e3})),gallery_image:m.Z_().matches(/^[\S]+[\S\s]*[\S]+$/,"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435 \u043f\u043e\u0447\u0438\u043d\u0430\u0442\u0438\u0441\u044f \u0430\u0431\u043e \u0437\u0430\u043a\u0456\u043d\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u043f\u0440\u043e\u0431\u0456\u043b\u043e\u043c").url("\u0411\u0443\u0434\u044c-\u043b\u0430\u0441\u043a\u0430 \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u043b\u0456\u0434\u043d\u0438\u0439 URL").matches(/^.{10,}$/,"URL \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 10 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432").matches(/^(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|jpeg|png|JPG|JPEG|PNG)$/,"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 jpg, jpeg, png \u0444\u043e\u0440\u043c\u0430\u0442\u0443 ")}),p=i(8914),g=i(5188),_=i(6028),h=i(1683),b="Dropdown_container__mwqMJ",x="Dropdown_input__CYNBt",j="Dropdown_selectedValue__VF9Jw",N="Dropdown_menu__bAb77",y="Dropdown_item__z0WmZ",f="Dropdown_selected__vp60u",v="Dropdown_search__NSmr8",k=i(3329),L=function(e){var a=e.className,i=e.placeHolder,r=void 0===i?"":i,n=e.options,t=e.isSearchable,s=e.initialValue,c=e.onClick,u=e.onChange,m=(0,o.useState)(!1),d=(0,l.Z)(m,2),p=d[0],g=d[1],_=(0,o.useState)(null),L=(0,l.Z)(_,2),S=L[0],B=L[1],E=(0,o.useState)(""),C=(0,l.Z)(E,2),I=C[0],F=C[1],M=(0,o.useRef)(),Z=(0,o.useRef)();(0,o.useEffect)((function(){B(s)}),[s]),(0,o.useEffect)((function(){F(""),p&&M.current&&M.current.focus()}),[p]),(0,o.useEffect)((function(){var e=function(e){var a=document.getElementById("dropdown-input");!Z.current||Z.current.contains(e.target)||null!==a&&void 0!==a&&a.contains(e.target)||g(!1)};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}),[]);var V=function(e){return!!S&&S.value===e.value};return(0,k.jsxs)("div",{className:b,children:[(0,k.jsxs)("div",{ref:Z,onClick:function(){g(!p),c()},className:"".concat(x," ").concat(a||""),children:[(0,k.jsx)("p",{className:j,children:S?S.label:r}),(0,k.jsx)(h.U.ARROW,{})]}),p&&(0,k.jsxs)("div",{className:N,children:[t&&(0,k.jsx)("div",{className:v,children:(0,k.jsx)("input",{id:"dropdown-input",onChange:function(e){F(e.target.value)},value:I,ref:M})}),(I?n.filter((function(e){return e.label.toLowerCase().indexOf(I.toLowerCase())>=0})):n).map((function(e){return(0,k.jsx)("div",{onClick:function(){return function(e){B(e),u&&u(e)}(e)},className:"".concat(y," ").concat(V(e)?f:""),children:e.label},e.value)}))]})]})},S=i(2489),B="ImgBookFormList_imgGalleryItem__7LZth",E="ImgBookFormList_imgButtonWrapper__OPdZH",C="ImgBookFormList_imgGalleryContainer__Togk9",I="ImgBookFormList_imgThumb__ZnSJb",F="ImgBookFormList_image__aA-0x",M="ImgBookFormList_button__BLckJ",Z="ImgBookFormList_modalImage__gPiUT",V="Modal_modalBackdrop__qSlW+",w="Modal_modalContent__JODE3",R=function(e){var a=e.isOpen,i=e.onClose,r=e.children;return a&&(0,k.jsx)("div",{className:V,onClick:function(e){e.currentTarget===e.target&&i()},children:(0,k.jsx)("div",{className:w,children:r})})},U=(0,o.memo)((function(e){var a=e.list,i=e.onDelete,r=(0,o.useState)(null),n=(0,l.Z)(r,2),t=n[0],s=n[1];return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("ul",{className:C,children:a.map((function(e,a){return(0,k.jsxs)("li",{className:B,children:[(0,k.jsx)("div",{className:I,children:(0,k.jsx)("img",{className:F,src:e,alt:"img-".concat(a)})}),(0,k.jsxs)("div",{className:E,children:[(0,k.jsx)("button",{type:"button",className:M,onClick:function(){s({imgUrl:e,index:a})},children:(0,k.jsx)(h.U.EYE,{fill:"var(--white)"})}),(0,k.jsx)("button",{type:"button",className:M,onClick:function(){i(e)},children:(0,k.jsx)(h.U.TRASH,{stroke:"var(--white)"})})]})]},Math.random().toString(36).substring(2)+(new Date).getTime().toString(36))}))}),t&&(0,k.jsx)(R,{isOpen:t,onClose:function(){s(null)},children:(0,k.jsx)("div",{children:(0,k.jsx)("img",{className:Z,src:t.imgUrl,alt:"img-".concat(t.index)})})})]})})),A={form:"BookEditForm_form__O6iDj",inputLabel:"BookEditForm_inputLabel__S6lrI",input:"BookEditForm_input__z2oQT",inputError:"BookEditForm_inputError__gJqxw",inputValid:"BookEditForm_inputValid__nJOxs",smallInputList:"BookEditForm_smallInputList__bDsOI",smallInputLabel:"BookEditForm_smallInputLabel__3Zuzr",textareaLabel:"BookEditForm_textareaLabel__qvoFu",textarea:"BookEditForm_textarea__q2yo1",galleryContainer:"BookEditForm_galleryContainer__yPpGD",galleryInputContainer:"BookEditForm_galleryInputContainer__ufMaJ",image:"BookEditForm_image__Ot5XH",addButton:"BookEditForm_addButton__jMSYS",errorMsg:"BookEditForm_errorMsg__0a+mS",price:"BookEditForm_price__XS5Oc",submitErrorMsg:"BookEditForm_submitErrorMsg__URjmY",button:"BookEditForm_button__RkQgk"},G=function(){var e,a=(new Date).getFullYear(),i=(0,o.useState)(""),t=(0,l.Z)(i,2),m=t[0],h=t[1],b=(0,c.s0)(),x=(0,c.UO)().id,j=(0,c.TH)(),N=null===j||void 0===j||null===(e=j.state)||void 0===e?void 0:e.from,y=(null===N||void 0===N?void 0:N.pathname)+(null===N||void 0===N?void 0:N.search),f=(0,p.i)((function(){return(0,_.zd)(x)}),[]),v=f.data,B=f.loading,E=(0,u.TA)({initialValues:{title:"",author:"",type:"",book_year:"",book_page_count:"",description:"",small_image:"",big_image:"",media_gallery_image:[],price:"",discount:"",gallery_image:""},validationSchema:d,onSubmit:function(){var e=(0,n.Z)(s().mark((function e(a){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={title:a.title,author:a.author,book_year:Number(a.book_year),book_page_count:Number(a.book_page_count),description:a.description,small_image:a.small_image,big_image:a.big_image,media_gallery_image:a.media_gallery_image,price:Number(a.price-a.discount)},e.next=4,(0,_.u8)(x,i);case 4:b(y||g.a.HOME),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()}),C=E.values,I=E.errors,F=E.touched,M=E.isValid,Z=E.isSubmitting,V=E.dirty,w=E.handleChange,R=E.handleSubmit,G=E.handleBlur,P=E.setFieldValue,J=E.setFieldTouched,q=E.setValues,$=(0,o.useMemo)((function(){for(var e=[],i=a;i>a-200;i--)e.push({value:i.toString(),label:i.toString()});return e}),[a]);(0,o.useEffect)((function(){if(v){var e={title:v.title,author:v.author,type:"paper",book_year:v.book_year,book_page_count:v.book_page_count,description:v.description,small_image:v.small_image,big_image:v.big_image,media_gallery_image:v.media_gallery_image,price:v.price,discount:0,gallery_image:""};q(e),Object.keys(e).forEach((function(e){return F[e]=!0}))}}),[v]);var O=(0,o.useCallback)((function(e){var a=C.media_gallery_image,i=(0,r.Z)(a).filter((function(a){return a!==e}));P("media_gallery_image",i)}),[C.media_gallery_image]);return B?(0,k.jsx)(S.$,{}):(0,k.jsxs)("form",{onSubmit:R,className:A.form,children:[(0,k.jsxs)("ul",{className:A.inputsList,children:[(0,k.jsx)("li",{children:(0,k.jsxs)("label",{className:A.inputLabel,children:[(0,k.jsxs)("p",{children:["\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u043a\u043d\u0438\u0433\u0438",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)("input",{className:"".concat(A.input," ").concat(F.title&&(I.title?A.inputError:A.inputValid)),id:"title",name:"title",placeholder:"",value:C.title,onChange:w,onBlur:G}),F.title&&I.title&&(0,k.jsx)("p",{className:A.errorMsg,children:I.title})]})}),(0,k.jsx)("li",{children:(0,k.jsxs)("label",{className:A.inputLabel,children:[(0,k.jsxs)("p",{children:["\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u0430",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)("input",{className:"".concat(A.input," ").concat(F.author&&(I.author?A.inputError:A.inputValid)),name:"author",placeholder:"",value:C.author,onChange:w,onBlur:G}),F.author&&I.author&&(0,k.jsx)("p",{className:A.errorMsg,children:I.author})]})}),(0,k.jsx)("li",{children:(0,k.jsxs)("ul",{className:A.smallInputList,children:[(0,k.jsx)("li",{children:(0,k.jsxs)("label",{className:A.smallInputLabel,children:[(0,k.jsx)("p",{children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u0432\u0438\u0434\u0430\u043d\u043d\u044f"}),(0,k.jsx)(L,{className:F.type&&(I.type?A.inputError:A.inputValid),options:[{label:"\u041f\u0430\u043f\u0435\u0440\u043e\u0432\u0430",value:"paper"}],initialValue:{label:"\u041f\u0430\u043f\u0435\u0440\u043e\u0432\u0430",value:"paper"},placeHolder:"",onClick:function(){return J("type",!0)},onChange:function(e){var a=e.value;P("type",a),F.type=!0}}),F.type&&I.type&&(0,k.jsx)("p",{className:A.errorMsg,children:I.type})]})}),(0,k.jsx)("li",{children:(0,k.jsxs)("label",{className:A.smallInputLabel,children:[(0,k.jsxs)("p",{children:["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0440\u0456\u043a \u0432\u0438\u0434\u0430\u043d\u043d\u044f",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)(L,{className:F.book_year&&(I.book_year?A.inputError:A.inputValid),options:$,initialValue:{label:C.book_year.toString(),value:C.book_year.toString()},isSearchable:!0,onClick:function(){return J("type",!0)},onChange:function(e){var a=e.value;P("book_year",a),F.book_year=!0}}),F.book_year&&I.book_year&&(0,k.jsx)("p",{className:A.errorMsg,children:I.book_year})]})}),(0,k.jsx)("li",{children:(0,k.jsxs)("label",{className:A.smallInputLabel,children:[(0,k.jsxs)("p",{children:["\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0441\u0442\u0440\u0456\u043d\u043e\u043a",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)("input",{className:"".concat(A.input," ").concat(F.book_page_count&&(I.book_page_count?A.inputError:A.inputValid)),name:"book_page_count",placeholder:"",value:C.book_page_count,onChange:w,onBlur:G}),F.book_page_count&&I.book_page_count&&(0,k.jsx)("p",{className:A.errorMsg,children:I.book_page_count})]})})]})}),(0,k.jsx)("li",{children:(0,k.jsxs)("label",{className:A.textareaLabel,children:[(0,k.jsxs)("p",{children:["\u041e\u043f\u0438\u0441 \u0442\u043e\u0432\u0430\u0440",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)("textarea",{className:"".concat(A.textarea," ").concat(F.description&&(I.description?A.inputError:A.inputValid)),name:"description",placeholder:"",value:C.description,onChange:w,onBlur:G}),F.description&&I.description&&(0,k.jsx)("p",{className:A.errorMsg,children:I.description})]})}),(0,k.jsxs)("li",{children:[(0,k.jsxs)("label",{className:A.inputLabel,children:[(0,k.jsxs)("p",{children:["\u0412\u043a\u0430\u0436\u0456\u0442\u044c URL \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043a\u0430\u0440\u0442\u043a\u0438 \u0442\u043e\u0432\u0430\u0440\u0443",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)("input",{className:"".concat(A.input," ").concat(F.small_image&&(I.small_image?A.inputError:A.inputValid)),name:"small_image",placeholder:"",value:C.small_image,onChange:w,onBlur:G}),F.small_image&&I.small_image&&(0,k.jsx)("p",{className:A.errorMsg,children:I.small_image})]}),(0,k.jsx)("img",{className:A.image,src:C.small_image,alt:"book poster"})]}),(0,k.jsxs)("li",{children:[(0,k.jsxs)("label",{className:A.inputLabel,children:[(0,k.jsxs)("p",{children:["\u0412\u043a\u0430\u0436\u0456\u0442\u044c URL \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043f\u043e\u0441\u0442\u0435\u0440\u0443 \u0442\u043e\u0432\u0430\u0440\u0443",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)("input",{className:"".concat(A.input," ").concat(F.big_image&&(I.big_image?A.inputError:A.inputValid)),name:"big_image",placeholder:"",value:C.big_image,onChange:w,onBlur:G}),F.big_image&&I.big_image&&(0,k.jsx)("p",{className:A.errorMsg,children:I.big_image})]}),(0,k.jsx)("img",{className:A.image,src:C.big_image,alt:"book big poster"})]}),(0,k.jsx)("li",{children:(0,k.jsxs)("div",{className:A.galleryContainer,children:[(0,k.jsx)("p",{children:"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 URL \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0433\u0430\u043b\u0435\u0440\u0435\u0457"}),(0,k.jsxs)("div",{className:A.galleryInputContainer,children:[(0,k.jsxs)("label",{className:A.inputLabel,children:[(0,k.jsx)("input",{className:"".concat(A.input," ").concat(F.gallery_image&&(I.gallery_image?A.inputError:A.inputValid)),name:"gallery_image",placeholder:"",value:C.gallery_image,onChange:w,onBlur:G}),F.gallery_image&&I.gallery_image&&(0,k.jsx)("p",{className:A.errorMsg,children:I.gallery_image})]}),(0,k.jsx)("button",{type:"button",className:A.addButton,disabled:I.gallery_image,onClick:function(){!function(e){var a=C.media_gallery_image,i=[].concat((0,r.Z)(a),[e]);P("media_gallery_image",i),P("gallery_image","")}(C.gallery_image)},children:"\u0414\u043e\u0434\u0430\u0442\u0438"})]}),F.media_gallery_image&&I.media_gallery_image&&(0,k.jsx)("p",{className:A.errorMsg,children:I.media_gallery_image}),C.media_gallery_image&&(0,k.jsx)(U,{list:C.media_gallery_image,onDelete:O})]})}),(0,k.jsx)("li",{children:(0,k.jsxs)("ul",{className:A.smallInputList,children:[(0,k.jsx)("li",{children:(0,k.jsxs)("label",{className:A.smallInputLabel,children:[(0,k.jsxs)("p",{children:["\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0446\u0456\u043d\u0443, \u0432 \u0433\u0440\u043d",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)("input",{className:"".concat(A.input," ").concat(F.price&&(I.price?A.inputError:A.inputValid)),name:"price",placeholder:"",value:C.price,onChange:w,onBlur:G}),F.price&&I.price&&(0,k.jsx)("p",{className:A.errorMsg,children:I.price})]})}),(0,k.jsx)("li",{children:(0,k.jsxs)("label",{className:A.smallInputLabel,children:[(0,k.jsxs)("p",{children:["\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0437\u043d\u0438\u0436\u043a\u0443, \u0432 \u0433\u0440\u043d",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)("input",{className:"".concat(A.input," ").concat(F.discount&&(I.discount?A.inputError:A.inputValid)),name:"discount",placeholder:"",value:C.discount,onChange:w,onBlur:G}),F.discount&&I.discount&&(0,k.jsx)("p",{className:A.errorMsg,children:I.discount})]})}),(0,k.jsx)("li",{children:Number(C.price)?(0,k.jsxs)("label",{className:A.smallInputLabel,children:["\u041a\u0456\u043d\u0446\u0435\u0432\u0430 \u0446\u0456\u043d\u0430",(0,k.jsx)("p",{className:A.price,children:Number(C.price)-(Number(C.discount)?Number(C.discount):0)+" \u0433\u0440\u043d"})]}):(0,k.jsx)("label",{className:A.smallInputLabel})})]})})]}),m&&(0,k.jsx)("p",{className:A.submitErrorMsg,children:m}),(0,k.jsx)("button",{className:A.button,type:"submit",disabled:!M||!V||Z,children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]})},P=m.Ry({title:m.Z_().required("\u041d\u0430\u0437\u0432\u0430 \u043a\u043d\u0438\u0433\u0438 \u0454 \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0438\u043c \u043f\u043e\u043b\u0435\u043c").max(32,"\u041d\u0430\u0437\u0432\u0430 \u043a\u043d\u0438\u0433\u0438 \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 32 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"),author:m.Z_().required("\u0410\u0432\u0442\u043e\u0440 \u043a\u043d\u0438\u0433\u0438 \u0454 \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0438\u043c \u043f\u043e\u043b\u0435\u043c").max(32,"\u0410\u0432\u0442\u043e\u0440 \u043a\u043d\u0438\u0433\u0438 \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 32 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"),type:m.Z_().oneOf(["","paper"],"\u041d\u0435 \u0432\u0456\u0440\u043d\u0438\u0439 \u0442\u0438\u043f"),book_year:m.Rx().required("\u0420\u0456\u043a \u0432\u0438\u0434\u0438\u043d\u043d\u044f \u0454 \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0438\u043c").test("year","\u041d\u0435 \u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442",(function(e){return e&&4===e.toString().length})),book_page_count:m.Z_().required("\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0441\u0442\u043e\u0440\u0456\u043d\u043e\u043a \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0430").test("count","\u0426\u0456\u043b\u0435 \u0447\u0438\u0441\u043b\u043e \u0432\u0456\u0434 10 \u0434\u043e 1500",(function(e){return!isNaN(Number(e))&&/^\d+$/.test(e)&&Number(e)>=10&&Number(e)<=1500})),description:m.Z_().required("\u041e\u043f\u0438\u0441 \u0454 \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0438\u043c \u043f\u043e\u043b\u0435\u043c").max(5e3,"\u041e\u043f\u0438\u0441 \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 5000 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"),small_image:m.Z_().matches(/^[\S]+[\S\s]*[\S]+$/,"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435 \u043f\u043e\u0447\u0438\u043d\u0430\u0442\u0438\u0441\u044f \u0430\u0431\u043e \u0437\u0430\u043a\u0456\u043d\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u043f\u0440\u043e\u0431\u0456\u043b\u043e\u043c").url("\u0411\u0443\u0434\u044c-\u043b\u0430\u0441\u043a\u0430 \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u043b\u0456\u0434\u043d\u0438\u0439 URL").matches(/^.{10,}$/,"URL \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 10 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432").matches(/^(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|jpeg|png|JPG|JPEG|PNG)$/,"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 jpg, jpeg, png \u0444\u043e\u0440\u043c\u0430\u0442\u0443 ").required("URL \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043a\u0430\u0440\u0442\u043a\u0438 \u0442\u043e\u0432\u0430\u0440\u0443 \u0454 \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0438\u043c"),big_image:m.Z_().matches(/^[\S]+[\S\s]*[\S]+$/,"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435 \u043f\u043e\u0447\u0438\u043d\u0430\u0442\u0438\u0441\u044f \u0430\u0431\u043e \u0437\u0430\u043a\u0456\u043d\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u043f\u0440\u043e\u0431\u0456\u043b\u043e\u043c").url("\u0411\u0443\u0434\u044c-\u043b\u0430\u0441\u043a\u0430 \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u043b\u0456\u0434\u043d\u0438\u0439 URL").matches(/^.{10,}$/,"URL \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 10 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432").matches(/^(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|jpeg|png|JPG|JPEG|PNG)$/,"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 jpg, jpeg, png \u0444\u043e\u0440\u043c\u0430\u0442\u0443 ").required("\u041f\u043e\u0441\u0442\u0435\u0440 \u0454 \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0438\u043c"),price:m.Z_().required("\u0426\u0456\u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u0443 \u043e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0430").test("price","\u0427\u0438\u0441\u043b\u043e \u0432\u0456\u0434 1 \u0434\u043e 5000",(function(e){return!isNaN(Number(e))&&Number(e)>=1&&Number(e)<=5e3})),discount:m.Z_().test("discount","\u0427\u0438\u0441\u043b\u043e \u0432\u0456\u0434 0 \u0434\u043e 5000",(function(e){return!isNaN(Number(e))&&Number(e)>=0&&Number(e)<=5e3})),gallery_image:m.Z_().matches(/^[\S]+[\S\s]*[\S]+$/,"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435 \u043f\u043e\u0447\u0438\u043d\u0430\u0442\u0438\u0441\u044f \u0430\u0431\u043e \u0437\u0430\u043a\u0456\u043d\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u043f\u0440\u043e\u0431\u0456\u043b\u043e\u043c").url("\u0411\u0443\u0434\u044c-\u043b\u0430\u0441\u043a\u0430 \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u043b\u0456\u0434\u043d\u0438\u0439 URL").matches(/^.{10,}$/,"URL \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 10 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432").matches(/^(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|jpeg|png|JPG|JPEG|PNG)$/,"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 jpg, jpeg, png \u0444\u043e\u0440\u043c\u0430\u0442\u0443 ")}),J={form:"BookAddForm_form__Td2dj",inputLabel:"BookAddForm_inputLabel__nL2z4",input:"BookAddForm_input__Sg8CQ",inputError:"BookAddForm_inputError__H7fVQ",inputValid:"BookAddForm_inputValid__rRQhU",smallInputList:"BookAddForm_smallInputList__ggg9J",smallInputLabel:"BookAddForm_smallInputLabel__5MpKA",textareaLabel:"BookAddForm_textareaLabel__+OntN",textarea:"BookAddForm_textarea__4l-TH",galleryContainer:"BookAddForm_galleryContainer__gZxyJ",galleryInputContainer:"BookAddForm_galleryInputContainer__iqfbI",image:"BookAddForm_image__Fwv07",addButton:"BookAddForm_addButton__dsUz3",errorMsg:"BookAddForm_errorMsg__-DUAT",price:"BookAddForm_price__8CYd4",submitErrorMsg:"BookAddForm_submitErrorMsg__Tf4Yc",button:"BookAddForm_button__2sy9l"},q=function(){var e=(new Date).getFullYear(),a=(0,o.useState)(""),i=(0,l.Z)(a,2),t=i[0],c=i[1],m=(0,o.useState)(!1),d=(0,l.Z)(m,2),p=d[0],g=d[1],h={title:"",author:"",type:"",book_year:"",book_page_count:"",description:"",small_image:"",big_image:"",media_gallery_image:[],price:"",discount:"",gallery_image:""},b=(0,u.TA)({initialValues:h,validationSchema:P,onSubmit:function(){var e=(0,n.Z)(s().mark((function e(a,i){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={title:a.title,author:a.author,book_year:Number(a.book_year),book_page_count:Number(a.book_page_count),description:a.description,small_image:a.small_image,big_image:a.big_image,media_gallery_image:a.media_gallery_image,price:Number(a.price-a.discount)},g(!0),e.next=5,(0,_.TA)(r);case 5:g(!1),i.setSubmitting(!1),i.resetForm({values:h}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),g(!1),c(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a,i){return e.apply(this,arguments)}}()}),x=b.values,j=b.errors,N=b.touched,y=b.isValid,f=b.isSubmitting,v=b.dirty,B=b.handleChange,E=b.handleSubmit,C=b.handleBlur,I=b.setFieldValue,F=b.setFieldTouched,M=(0,o.useMemo)((function(){for(var a=[],i=e;i>e-200;i--)a.push({value:i.toString(),label:i.toString()});return a}),[e]),Z=(0,o.useCallback)((function(e){var a=x.media_gallery_image,i=(0,r.Z)(a).filter((function(a){return a!==e}));I("media_gallery_image",i)}),[x.media_gallery_image]);return p?(0,k.jsx)(S.$,{}):(0,k.jsxs)("form",{onSubmit:E,className:J.form,children:[(0,k.jsxs)("ul",{className:J.inputsList,children:[(0,k.jsx)("li",{children:(0,k.jsxs)("label",{className:J.inputLabel,children:[(0,k.jsxs)("p",{children:["\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u043a\u043d\u0438\u0433\u0438",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)("input",{className:"".concat(J.input," ").concat(N.title&&(j.title?J.inputError:J.inputValid)),id:"title",name:"title",placeholder:"",value:x.title,onChange:B,onBlur:C}),N.title&&j.title&&(0,k.jsx)("p",{className:J.errorMsg,children:j.title})]})}),(0,k.jsx)("li",{children:(0,k.jsxs)("label",{className:J.inputLabel,children:[(0,k.jsxs)("p",{children:["\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u0430",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)("input",{className:"".concat(J.input," ").concat(N.author&&(j.author?J.inputError:J.inputValid)),name:"author",placeholder:"",value:x.author,onChange:B,onBlur:C}),N.author&&j.author&&(0,k.jsx)("p",{className:J.errorMsg,children:j.author})]})}),(0,k.jsx)("li",{children:(0,k.jsxs)("ul",{className:J.smallInputList,children:[(0,k.jsx)("li",{children:(0,k.jsxs)("label",{className:J.smallInputLabel,children:[(0,k.jsx)("p",{children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u0432\u0438\u0434\u0430\u043d\u043d\u044f"}),(0,k.jsx)(L,{className:N.type&&(j.type?J.inputError:J.inputValid),options:[{label:"\u041f\u0430\u043f\u0435\u0440\u043e\u0432\u0430",value:"paper"}],placeHolder:"",onClick:function(){return F("type",!0)},onChange:function(e){var a=e.value;I("type",a),N.type=!0}}),N.type&&j.type&&(0,k.jsx)("p",{className:J.errorMsg,children:j.type})]})}),(0,k.jsx)("li",{children:(0,k.jsxs)("label",{className:J.smallInputLabel,children:[(0,k.jsxs)("p",{children:["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0440\u0456\u043a \u0432\u0438\u0434\u0430\u043d\u043d\u044f",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)(L,{className:N.book_year&&(j.book_year?J.inputError:J.inputValid),options:M,isSearchable:!0,onClick:function(){return F("book_year",!0)},onChange:function(e){var a=e.value;I("book_year",a),N.book_year=!0}}),N.book_year&&j.book_year&&(0,k.jsx)("p",{className:J.errorMsg,children:j.book_year})]})}),(0,k.jsx)("li",{children:(0,k.jsxs)("label",{className:J.smallInputLabel,children:[(0,k.jsxs)("p",{children:["\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0441\u0442\u0440\u0456\u043d\u043e\u043a",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)("input",{className:"".concat(J.input," ").concat(N.book_page_count&&(j.book_page_count?J.inputError:J.inputValid)),name:"book_page_count",placeholder:"",value:x.book_page_count,onChange:B,onBlur:C}),N.book_page_count&&j.book_page_count&&(0,k.jsx)("p",{className:J.errorMsg,children:j.book_page_count})]})})]})}),(0,k.jsx)("li",{children:(0,k.jsxs)("label",{className:J.textareaLabel,children:[(0,k.jsxs)("p",{children:["\u041e\u043f\u0438\u0441 \u0442\u043e\u0432\u0430\u0440",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)("textarea",{className:"".concat(J.textarea," ").concat(N.description&&(j.description?J.inputError:J.inputValid)),name:"description",placeholder:"",value:x.description,onChange:B,onBlur:C}),N.description&&j.description&&(0,k.jsx)("p",{className:J.errorMsg,children:j.description})]})}),(0,k.jsxs)("li",{children:[(0,k.jsxs)("label",{className:J.inputLabel,children:[(0,k.jsxs)("p",{children:["\u0412\u043a\u0430\u0436\u0456\u0442\u044c URL \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043a\u0430\u0440\u0442\u043a\u0438 \u0442\u043e\u0432\u0430\u0440\u0443",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)("input",{className:"".concat(J.input," ").concat(N.small_image&&(j.small_image?J.inputError:J.inputValid)),name:"small_image",placeholder:"",value:x.small_image,onChange:B,onBlur:C}),N.small_image&&j.small_image&&(0,k.jsx)("p",{className:J.errorMsg,children:j.small_image})]}),N.small_image&&!j.small_image&&(0,k.jsx)("img",{className:J.image,src:x.small_image,alt:"book poster"})]}),(0,k.jsxs)("li",{children:[(0,k.jsxs)("label",{className:J.inputLabel,children:[(0,k.jsxs)("p",{children:["\u0412\u043a\u0430\u0436\u0456\u0442\u044c URL \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043f\u043e\u0441\u0442\u0435\u0440\u0443 \u0442\u043e\u0432\u0430\u0440\u0443",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)("input",{className:"".concat(J.input," ").concat(N.big_image&&(j.big_image?J.inputError:J.inputValid)),name:"big_image",placeholder:"",value:x.big_image,onChange:B,onBlur:C}),N.big_image&&j.big_image&&(0,k.jsx)("p",{className:J.errorMsg,children:j.big_image})]}),N.big_image&&!j.big_image&&(0,k.jsx)("img",{className:J.image,src:x.big_image,alt:"book big poster"})]}),(0,k.jsx)("li",{children:(0,k.jsxs)("div",{className:J.galleryContainer,children:[(0,k.jsx)("p",{children:"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 URL \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0433\u0430\u043b\u0435\u0440\u0435\u0457"}),(0,k.jsxs)("div",{className:J.galleryInputContainer,children:[(0,k.jsxs)("label",{className:J.inputLabel,children:[(0,k.jsx)("input",{className:"".concat(J.input," ").concat(N.gallery_image&&(j.gallery_image?J.inputError:J.inputValid)),name:"gallery_image",placeholder:"",value:x.gallery_image,onChange:B,onBlur:C}),N.gallery_image&&j.gallery_image&&(0,k.jsx)("p",{className:J.errorMsg,children:j.gallery_image})]}),(0,k.jsx)("button",{type:"button",className:J.addButton,disabled:j.gallery_image,onClick:function(){!function(e){var a=x.media_gallery_image,i=[].concat((0,r.Z)(a),[e]);I("media_gallery_image",i),I("gallery_image","")}(x.gallery_image)},children:"\u0414\u043e\u0434\u0430\u0442\u0438"})]}),N.media_gallery_image&&j.media_gallery_image&&(0,k.jsx)("p",{className:J.errorMsg,children:j.media_gallery_image}),x.media_gallery_image&&(0,k.jsx)(U,{list:x.media_gallery_image,onDelete:Z})]})}),(0,k.jsx)("li",{children:(0,k.jsxs)("ul",{className:J.smallInputList,children:[(0,k.jsx)("li",{children:(0,k.jsxs)("label",{className:J.smallInputLabel,children:[(0,k.jsxs)("p",{children:["\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0446\u0456\u043d\u0443, \u0432 \u0433\u0440\u043d",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)("input",{className:"".concat(J.input," ").concat(N.price&&(j.price?J.inputError:J.inputValid)),name:"price",placeholder:"",value:x.price,onChange:B,onBlur:C}),N.price&&j.price&&(0,k.jsx)("p",{className:J.errorMsg,children:j.price})]})}),(0,k.jsx)("li",{children:(0,k.jsxs)("label",{className:J.smallInputLabel,children:[(0,k.jsxs)("p",{children:["\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0437\u043d\u0438\u0436\u043a\u0443, \u0432 \u0433\u0440\u043d",(0,k.jsx)("span",{style:{color:"var(--red)"},children:"*"})]}),(0,k.jsx)("input",{className:"".concat(J.input," ").concat(N.discount&&(j.discount?J.inputError:J.inputValid)),name:"discount",placeholder:"",value:x.discount,onChange:B,onBlur:C}),N.discount&&j.discount&&(0,k.jsx)("p",{className:J.errorMsg,children:j.discount})]})}),(0,k.jsx)("li",{children:Number(x.price)?(0,k.jsxs)("label",{className:J.smallInputLabel,children:["\u041a\u0456\u043d\u0446\u0435\u0432\u0430 \u0446\u0456\u043d\u0430",(0,k.jsx)("p",{className:J.price,children:Number(x.price)-(Number(x.discount)?Number(x.discount):0)+" \u0433\u0440\u043d"})]}):(0,k.jsx)("label",{className:J.smallInputLabel})})]})})]}),t&&(0,k.jsx)("p",{className:J.submitErrorMsg,children:t}),(0,k.jsx)("button",{className:J.button,type:"submit",disabled:!y||!v||f,children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]})}},5009:function(e,a,i){i.d(a,{Y:function(){return N}});var r=i(9439),n=i(2791),l=JSON.parse('{"b":[{"id":1,"name":"\u0425\u0443\u0434\u043e\u0436\u043d\u044f \u043b\u0456\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430","subcategories":[{"id":101,"name":"\u041f\u043e\u0435\u0437\u0456\u044f"},{"id":102,"name":"\u0424\u0430\u043d\u0442\u0430\u0441\u0442\u0438\u043a\u0430 \u0442\u0430 \u0444\u0435\u043d\u0442\u0435\u0437\u0456"},{"id":103,"name":"\u0414\u0435\u0442\u0435\u043a\u0442\u0438\u0432\u0438 \u0456 \u0442\u0440\u0438\u043b\u0435\u0440\u0438"},{"id":104,"name":"\u0421\u0443\u0447\u0430\u0441\u043d\u0456 \u0430\u0432\u0442\u043e\u0440\u0438"},{"id":105,"name":"\u041a\u043b\u0430\u0441\u0438\u043a\u0430"},{"id":106,"name":"\u041a\u043e\u043c\u0456\u043a\u0441\u0438, \u0433\u0440\u0430\u0444\u0456\u0447\u043d\u0456 \u0440\u043e\u043c\u0430\u043d\u0438"},{"id":107,"name":"\u0411\u0456\u043e\u0433\u0440\u0430\u0444\u0456\u0457, \u043c\u0435\u043c\u0443\u0430\u0440\u0438, \u0430\u0444\u043e\u0440\u0438\u0437\u043c\u0438"},{"id":108,"name":"\u0406\u043d\u043e\u0437\u0435\u043c\u043d\u0438\u043c\u0438 \u043c\u043e\u0432\u0430\u043c\u0438"}]},{"id":2,"name":"\u041d\u0430\u0443\u043a\u043e\u0432\u0430 \u043b\u0456\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430","subcategories":[{"id":201,"name":"\u0425\u0456\u043c\u0456\u044f"},{"id":202,"name":"\u0424\u0456\u0437\u0438\u043a\u0430"},{"id":203,"name":"\u0411\u0456\u043e\u043b\u043e\u0433\u0456\u044f"},{"id":204,"name":"\u0406\u0441\u0442\u043e\u0440\u0456\u044f"},{"id":205,"name":"\u0415\u043a\u043e\u043d\u043e\u043c\u0456\u043a\u0430"}]},{"id":3,"name":"\u0414\u0438\u0442\u044f\u0447\u0430 \u043b\u0456\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430","subcategories":[{"id":301,"name":"\u041a\u0430\u0437\u043a\u0438"},{"id":302,"name":"\u041f\u0440\u0438\u0433\u043e\u0434\u0438"},{"id":303,"name":"\u0406\u043b\u044e\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0456 \u043a\u043d\u0438\u0436\u043a\u0438"},{"id":304,"name":"\u0425\u0443\u0434\u043e\u0436\u043d\u0456\u0439 \u0440\u043e\u0437\u0432\u0438\u0442\u043e\u043a"},{"id":305,"name":"\u041d\u0430\u0432\u0447\u0430\u043b\u044c\u043d\u0456 \u043a\u043d\u0438\u0433\u0438"},{"id":306,"name":"\u0416\u0438\u0432\u0430 \u043f\u0440\u0438\u0440\u043e\u0434\u0430"},{"id":307,"name":"\u0421\u043f\u043e\u0440\u0442 \u0456 \u0456\u0433\u0440\u0438"},{"id":308,"name":"\u0420\u043e\u0437\u0432\u0430\u0436\u0430\u043b\u044c\u043d\u0456 \u043a\u043d\u0438\u0433\u0438"}]},{"id":4,"name":"\u0411\u0456\u0437\u043d\u0435\u0441, \u0433\u0440\u043e\u0448\u0456, \u0435\u043a\u043e\u043d\u043e\u043c\u0456\u043a\u0430","subcategories":[{"id":401,"name":"\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433"},{"id":402,"name":"\u0424\u0456\u043d\u0430\u043d\u0441\u0438"},{"id":403,"name":"\u0423\u043f\u0440\u0430\u0432\u043b\u0456\u043d\u043d\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c\u0438"},{"id":404,"name":"\u0415\u043a\u043e\u043d\u043e\u043c\u0456\u0447\u043d\u0430 \u0442\u0435\u043e\u0440\u0456\u044f"},{"id":405,"name":"\u041f\u0456\u0434\u043f\u0440\u0438\u0454\u043c\u043d\u0438\u0446\u0442\u0432\u043e"},{"id":406,"name":"\u041b\u043e\u0433\u0456\u0441\u0442\u0438\u043a\u0430 \u0442\u0430 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043d\u043d\u044f"},{"id":407,"name":"\u0411\u0456\u0437\u043d\u0435\u0441-\u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0456\u0457"}]},{"id":5,"name":"\u0421\u0430\u043c\u043e\u0440\u043e\u0437\u0432\u0438\u0442\u043e\u043a","subcategories":[{"id":501,"name":"\u041a\u043e\u043c\u0443\u043d\u0456\u043a\u0430\u0446\u0456\u044f"},{"id":502,"name":"\u041b\u0456\u0434\u0435\u0440\u0441\u0442\u0432\u043e"},{"id":503,"name":"\u0421\u0430\u043c\u043e\u043c\u0435\u043d\u0435\u0434\u0436\u043c\u0435\u043d\u0442"},{"id":504,"name":"\u041f\u0441\u0438\u0445\u043e\u043b\u043e\u0433\u0456\u044f"},{"id":505,"name":"\u0416\u0438\u0442\u0442\u0454\u0432\u0438\u0439 \u0434\u043e\u0441\u0432\u0456\u0434"},{"id":506,"name":"\u041c\u043e\u0442\u0438\u0432\u0430\u0446\u0456\u044f"}]},{"id":6,"name":"\u041a\u043d\u0438\u0436\u043a\u0438 \u0434\u043b\u044f \u0431\u0430\u0442\u044c\u043a\u0456\u0432","subcategories":[{"id":601,"name":"\u041f\u0456\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0434\u043e \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f \u0434\u0438\u0442\u0438\u043d\u0438"},{"id":602,"name":"\u0414\u043e\u0433\u043b\u044f\u0434 \u0437\u0430 \u043c\u0430\u043b\u044e\u043a\u043e\u043c"},{"id":603,"name":"\u0420\u043e\u0437\u0432\u0438\u0442\u043e\u043a \u0434\u0438\u0442\u0438\u043d\u0438"},{"id":604,"name":"\u041f\u0441\u0438\u0445\u043e\u043b\u043e\u0433\u0456\u044f \u0434\u0438\u0442\u0438\u043d\u0438"},{"id":605,"name":"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0456\u0441\u043d\u0438\u0439 \u0440\u043e\u0437\u0432\u0438\u0442\u043e\u043a \u0431\u0430\u0442\u044c\u043a\u0456\u0432"}]},{"id":7,"name":"\u041a\u043d\u0438\u0436\u043a\u0438 \u0434\u043b\u044f \u0434\u0456\u0442\u0435\u0439","subcategories":[{"id":701,"name":"\u0414\u0438\u0442\u044f\u0447\u0456 \u0435\u043d\u0446\u0438\u043a\u043b\u043e\u043f\u0435\u0434\u0456\u0457 \u0442\u0430 \u0434\u043e\u0432\u0456\u0434\u043d\u0438\u043a\u0438"},{"id":702,"name":"\u041a\u043d\u0438\u0436\u043a\u0438 \u0434\u043b\u044f \u043d\u0435\u043c\u043e\u0432\u043b\u044f\u0442"},{"id":703,"name":"\u041a\u0430\u0437\u043a\u0438 \u0442\u0430 \u043e\u043f\u043e\u0432\u0456\u0434\u0430\u043d\u043d\u044f"},{"id":704,"name":"\u041a\u043d\u0438\u0436\u043a\u0438 \u0434\u043b\u044f \u0434\u043e\u0448\u043a\u0456\u043b\u044c\u043d\u044f\u0442"},{"id":705,"name":"\u0406\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0456 \u043a\u043d\u0438\u0436\u043a\u0438"},{"id":706,"name":"\u041a\u043d\u0438\u0436\u043a\u0438 \u043f\u0440\u043e \u0442\u0432\u0430\u0440\u0438\u043d"},{"id":707,"name":"\u041a\u043d\u0438\u0436\u043a\u0438 \u043f\u0440\u043e \u043f\u0440\u0438\u0440\u043e\u0434\u0443"},{"id":708,"name":"\u041a\u043d\u0438\u0436\u043a\u0438 \u043f\u0440\u043e \u0456\u0441\u0442\u043e\u0440\u0456\u044e \u0442\u0430 \u043a\u0443\u043b\u044c\u0442\u0443\u0440\u0443"},{"id":709,"name":"\u041a\u043d\u0438\u0436\u043a\u0438 \u0434\u043b\u044f \u043f\u0456\u0434\u043b\u0456\u0442\u043a\u0456\u0432"}]},{"id":8,"name":"\u0425\u043e\u0431\u0456 \u0456 \u0434\u043e\u0437\u0432\u0456\u043b\u043b\u044f","subcategories":[{"id":801,"name":"\u041a\u0443\u043b\u0456\u043d\u0430\u0440\u0456\u044f"},{"id":802,"name":"\u0421\u0430\u0434\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u043e \u0442\u0430 \u043b\u0430\u043d\u0434\u0448\u0430\u0444\u0442\u043d\u0438\u0439 \u0434\u0438\u0437\u0430\u0439\u043d"},{"id":803,"name":"\u041c\u0438\u0441\u0442\u0435\u0446\u0442\u0432\u043e \u0442\u0430 \u0440\u0443\u043a\u043e\u0434\u0456\u043b\u043b\u044f"},{"id":804,"name":"\u0421\u043f\u043e\u0440\u0442 \u0442\u0430 \u0444\u0456\u0442\u043d\u0435\u0441"},{"id":805,"name":"\u041f\u043e\u0434\u043e\u0440\u043e\u0436\u0456 \u0442\u0430 \u0442\u0443\u0440\u0438\u0437\u043c"},{"id":806,"name":"\u0406\u0433\u0440\u0438 \u0442\u0430 \u0440\u043e\u0437\u0432\u0430\u0433\u0438"}]},{"id":9,"name":"\u0420\u0435\u043b\u0456\u0433\u0456\u044f","subcategories":[{"id":901,"name":"\u0425\u0440\u0438\u0441\u0442\u0438\u044f\u043d\u0441\u0442\u0432\u043e"},{"id":902,"name":"\u0406\u0441\u043b\u0430\u043c"},{"id":903,"name":"\u0404\u0432\u0440\u0435\u0439\u0441\u0442\u0432\u043e"},{"id":904,"name":"\u0411\u0443\u0434\u0434\u0438\u0437\u043c"},{"id":905,"name":"\u0406\u043d\u0434\u0443\u0457\u0437\u043c"},{"id":906,"name":"\u0422\u0430\u043e\u0457\u0437\u043c"},{"id":907,"name":"\u0428\u0456\u043d\u0442\u043e\u0457\u0437\u043c"},{"id":908,"name":"\u0421\u0438\u043a\u0445\u0456\u0437\u043c"}]},{"id":10,"name":"\u0422\u0443\u0440\u0438\u0437\u043c. \u0421\u043f\u043e\u0440\u0442","subcategories":[{"id":1001,"name":"\u041f\u043e\u0434\u043e\u0440\u043e\u0436\u0456"},{"id":1002,"name":"\u0415\u043a\u0441\u0442\u0440\u0435\u043c\u0430\u043b\u044c\u043d\u0438\u0439 \u0432\u0456\u0434\u043f\u043e\u0447\u0438\u043d\u043e\u043a"},{"id":1003,"name":"\u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0456 \u0437\u043c\u0430\u0433\u0430\u043d\u043d\u044f"},{"id":1004,"name":"\u0410\u043b\u044c\u043f\u0456\u043d\u0456\u0437\u043c"},{"id":1005,"name":"\u0412\u043e\u0434\u043d\u0456 \u0432\u0438\u0434\u0438 \u0441\u043f\u043e\u0440\u0442\u0443"},{"id":1006,"name":"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043d\u0456 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438"},{"id":1007,"name":"\u041b\u0438\u0436\u0456 \u0442\u0430 \u043b\u0438\u0436\u043d\u0438\u0439 \u0441\u043f\u043e\u0440\u0442"}]},{"id":11,"name":"\u041a\u043e\u043c\u043f\'\u044e\u0442\u0435\u0440\u043d\u0430 \u043b\u0456\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430","subcategories":[{"id":1110,"name":"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u0443\u0432\u0430\u043d\u043d\u044f"},{"id":1120,"name":"\u0411\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445"},{"id":1130,"name":"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0439\u043d\u0430 \u0431\u0435\u0437\u043f\u0435\u043a\u0430"},{"id":1140,"name":"\u041c\u0435\u0440\u0435\u0436\u0456"},{"id":1150,"name":"\u041e\u043f\u0435\u0440\u0430\u0446\u0456\u0439\u043d\u0456 \u0441\u0438\u0441\u0442\u0435\u043c\u0438"},{"id":1160,"name":"\u0406\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u0442\u0430 \u0432\u0435\u0431-\u0440\u043e\u0437\u0440\u043e\u0431\u043a\u0430"},{"id":1170,"name":"\u0428\u0442\u0443\u0447\u043d\u0438\u0439 \u0456\u043d\u0442\u0435\u043b\u0435\u043a\u0442"},{"id":1180,"name":"\u0406\u043d\u0448\u0456 \u0442\u0435\u043c\u0438"}]},{"id":12,"name":"\u041d\u0430\u0432\u0447\u0430\u043b\u044c\u043d\u0430 \u043b\u0456\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430","subcategories":[{"id":1201,"name":"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430"},{"id":1202,"name":"\u0424\u0456\u0437\u0438\u043a\u0430"},{"id":1203,"name":"\u0425\u0456\u043c\u0456\u044f"},{"id":1204,"name":"\u0411\u0456\u043e\u043b\u043e\u0433\u0456\u044f"},{"id":1205,"name":"\u0406\u0441\u0442\u043e\u0440\u0456\u044f"},{"id":1206,"name":"\u0413\u0435\u043e\u0433\u0440\u0430\u0444\u0456\u044f"},{"id":1207,"name":"\u041c\u043e\u0432\u0438 \u0442\u0430 \u043b\u0456\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430"},{"id":1208,"name":"\u0415\u043a\u043e\u043d\u043e\u043c\u0456\u043a\u0430 \u0442\u0430 \u0444\u0456\u043d\u0430\u043d\u0441\u0438"},{"id":1209,"name":"\u042e\u0440\u0438\u0441\u043f\u0440\u0443\u0434\u0435\u043d\u0446\u0456\u044f"},{"id":1210,"name":"\u041c\u0435\u0434\u0438\u0446\u0438\u043d\u0430 \u0442\u0430 \u0431\u0456\u043e\u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0430"},{"id":1211,"name":"\u0422\u0435\u0445\u043d\u0456\u043a\u0430 \u0442\u0430 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0456\u0457"}]}]}'),t=i(1087),s="CategoryItem_listItem__VYXIw",o="CategoryItem_categoryLink__BeeYW",c="CategoryItem_subcategories__MxZtE",u="CategoryItem_listItemSubcatigories__Vj--g",m="CategoryItem_subcategoryLink__P8uSx",d="CategoryItem_active__Qn3fG",p=i(3329),g=function(e){var a=e.category,i=e.activeCategoryId,r=e.setActiveCategoryId,n=e.setSubcategories,g=e.subcategories,_=e.subcategoriesRef,h=function(e){0!==g.length&&i===e||function(e){var a=l.b.find((function(a){return a.id===e}));return a&&a.subcategories?Promise.resolve(a.subcategories):Promise.resolve([])}(e).then((function(a){n(a),r(e)})).catch((function(e){console.log(e)}))},b=i===a.id;return(0,p.jsxs)("li",{className:"".concat(s," ").concat(b?d:""),children:[(0,p.jsx)(t.rU,{className:o,to:"#",onMouseEnter:function(){return h(a.id)},children:a.name}),b&&(0,p.jsx)("ul",{ref:_,className:"".concat(c," ").concat(d),onMouseLeave:function(){r(null)},children:g.map((function(e){return(0,p.jsx)("li",{className:u,children:(0,p.jsx)(t.rU,{className:m,to:"#",children:e.name})},e.id)}))})]},a.id)},_="Sidebar_sidebar__S9EbY",h="Sidebar_titleWrapper__dNIir",b="Sidebar_title__MRu-G",x="Sidebar_listWrapper__tarnB",j="Sidebar_categoriesWrapper__7GAp9",N=function(){var e=(0,n.useState)([]),a=(0,r.Z)(e,2),i=a[0],t=a[1],s=(0,n.useState)(null),o=(0,r.Z)(s,2),c=o[0],u=o[1],m=(0,n.useState)([]),d=(0,r.Z)(m,2),N=d[0],y=d[1];(0,n.useEffect)((function(){Promise.resolve(l.b).then((function(e){t(e)})).catch((function(e){console.log(e)}))}),[]);var f=(0,n.useRef)(null),v=(0,n.useRef)(null),k=function(e){f.current&&!f.current.contains(e.target)&&v.current&&!v.current.contains(e.target)&&u(null)};(0,n.useEffect)((function(){return document.addEventListener("click",k),function(){document.removeEventListener("click",k)}}),[]);return(0,p.jsxs)("aside",{ref:f,className:_,onClick:function(){u(null)},children:[(0,p.jsx)("div",{className:h,children:(0,p.jsx)("h2",{className:b,children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457"})}),(0,p.jsx)("div",{className:j,children:(0,p.jsx)("ul",{className:x,children:i.map((function(e){return(0,p.jsx)(g,{category:e,activeCategoryId:c,setActiveCategoryId:u,setSubcategories:y,subcategories:N,subcategoriesRef:v},e.id)}))})})]})}},8914:function(e,a,i){i.d(a,{i:function(){return o}});var r=i(5861),n=i(9439),l=i(7757),t=i.n(l),s=i(2791),o=function(e,a,i){var l=(0,s.useState)(i),o=(0,n.Z)(l,2),c=o[0],u=o[1],m=(0,s.useState)(!1),d=(0,n.Z)(m,2),p=d[0],g=d[1],_=(0,s.useState)(),h=(0,n.Z)(_,2),b=h[0],x=h[1];return(0,s.useEffect)((function(){var a=function(){var a=(0,r.Z)(t().mark((function a(){var i;return t().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,g(!0),a.next=4,e();case 4:i=a.sent,u(i.data),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),x(a.t0);case 11:return a.prev=11,g(!1),a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[0,8,11,14]])})));return function(){return a.apply(this,arguments)}}();a()}),a),{data:c,loading:p,error:b}}}}]);
//# sourceMappingURL=892.1c1ad8b0.chunk.js.map