"use strict";(self.webpackChunkbookstore=self.webpackChunkbookstore||[]).push([[332],{7778:function(e,t,n){n.d(t,{O:function(){return r}});var a=n(184),r=function(){return(0,a.jsx)("div",{children:"Breadcrumbs"})}},1881:function(e,t,n){n.d(t,{m:function(){return s}});var a="SpinnerButton_loader__NJWd7",r=n(184),s=function(e){var t=e.className;return(0,r.jsx)("span",{className:"".concat(a," ").concat(t)})}},8914:function(e,t,n){n.d(t,{i:function(){return o}});var a=n(5861),r=n(9439),s=n(7757),c=n.n(s),i=n(2791),o=function(e,t,n){var s=(0,i.useState)(n),o=(0,r.Z)(s,2),l=o[0],u=o[1],d=(0,i.useState)(!1),_=(0,r.Z)(d,2),p=_[0],f=_[1],m=(0,i.useState)(),h=(0,r.Z)(m,2),v=h[0],x=h[1];return(0,i.useEffect)((function(){var t=function(){var t=(0,a.Z)(c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,f(!0),t.next=4,e();case 4:n=t.sent,u(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),x(t.t0);case 11:return t.prev=11,f(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(){return t.apply(this,arguments)}}();t()}),t),{data:l,loading:p,error:v}}},9038:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var a=n(7689),r=n(8914),s=n(6028),c=n(7778),i=n(9439),o=n(2791),l="ImageGallery_gallery__1SruY",u="ImageGallery_imgBigContainer__7Ie+4",d="ImageGallery_imgBig__reBI4",_="ImageGallery_imageList__8q2ko",p="ImageGallery_item__bPIux",f="ImageGallery_itemSelected__yaKHM",m="ImageGallery_imgSmall__mLB7R",h=n(184),v=function(e){var t=e.images,n=(0,o.useState)(t[0].id),a=(0,i.Z)(n,2),r=a[0],s=a[1];return(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)("ul",{className:_,children:t.map((function(e){return(0,h.jsx)("li",{className:"".concat(p," ").concat(r===e.id?f:""," "),children:(0,h.jsx)("img",{src:e.imageUrl,alt:e.alt,onClick:function(){return t=e.id,void s(t);var t},className:m,width:53,height:78})},e.id)}))}),(0,h.jsx)("div",{className:u,children:(0,h.jsx)("img",{src:t.find((function(e){return e.id===r})).imageUrl,alt:t.find((function(e){return e.id===r})).alt,className:d,width:371,height:543})})]})},x=n(5861),j=n(7757),b=n.n(j),k=n(1683),B={container:"BlockInfo_container__-ivP+",title:"BlockInfo_title__yTsKM",wrapper:"BlockInfo_wrapper__nFSiO",author:"BlockInfo_author__z442Q",reviews:"BlockInfo_reviews__CPdTH",tabs:"BlockInfo_tabs__FPxEE",activeTab:"BlockInfo_activeTab__qkACD",disableTab:"BlockInfo_disableTab__cZe+J",detailsWrapper:"BlockInfo_detailsWrapper__eFe+F",buyWrapper:"BlockInfo_buyWrapper__q-sss",price:"BlockInfo_price__oQHzc",buyButton:"BlockInfo_buyButton__bJsJW",favoriteWrapper:"BlockInfo_favoriteWrapper__TUXD4",favoriteText:"BlockInfo_favoriteText__jPusS",detailsItem:"BlockInfo_detailsItem__DaUD8",text:"BlockInfo_text__qvsIq",value:"BlockInfo_value__p18tq",editButtonContainer:"BlockInfo_editButtonContainer__3y0iR",editButton:"BlockInfo_editButton__7SoCt",deleteButton:"BlockInfo_deleteButton__sky39"},N=n(5188),g=n(1881),I=function(e){var t,n,r=e.data,c=(0,o.useState)(!1),l=(0,i.Z)(c,2),u=l[0],d=l[1],_=(0,o.useState)(!1),p=(0,i.Z)(_,2),f=p[0],m=p[1],v=(0,a.s0)(),j=(0,a.TH)(),I=null===j||void 0===j?void 0:j.state,y=(null===I||void 0===I||null===(t=I.from)||void 0===t?void 0:t.pathname)+(null===I||void 0===I||null===(n=I.from)||void 0===n?void 0:n.search),T=null===I||void 0===I?void 0:I.count,C=function(e){var t=parseInt(e.match(/page=(\d+)/)[1]);return e.replace(/page=\d+/,"page=".concat(1===t?t:t-1))};return(0,h.jsxs)("div",{className:B.container,children:[(0,h.jsx)("p",{className:B.title,children:r.title}),(0,h.jsxs)("div",{className:B.wrapper,children:[(0,h.jsx)("p",{className:B.author,children:r.author}),(0,h.jsx)("p",{className:B.reviews,children:"".concat(r.reviews?r.reviews:0," \u0432\u0456\u0434\u0433\u0443\u043a\u0456\u0432")})]}),(0,h.jsxs)("div",{className:B.tabs,children:[(0,h.jsx)("button",{type:"button",className:B.activeTab,children:"\u041f\u0430\u043f\u0435\u0440\u043e\u0432\u0430 \u043a\u043d\u0438\u0433\u0430"}),(0,h.jsx)("button",{type:"button",className:B.disableTab,children:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u043a\u043d\u0438\u0433\u0430"})]}),(0,h.jsxs)("div",{className:B.detailsWrapper,children:[(0,h.jsxs)("div",{className:B.buyWrapper,children:[(0,h.jsx)("p",{className:B.price,children:"".concat(r.price,".00 \u0433\u0440\u043d")}),(0,h.jsxs)("button",{type:"button",className:B.buyButton,children:[(0,h.jsx)(k.U.CART_FULL,{}),"\u041a\u0443\u043f\u0438\u0442\u0438"]})]}),(0,h.jsxs)("div",{className:B.favoriteWrapper,children:[(0,h.jsx)("button",{type:"button",className:B.favoriteBtn,onClick:function(){return d(!u)},children:u?(0,h.jsx)(k.U.FAVORITE_ACTIVE,{}):(0,h.jsx)(k.U.FAVORITE,{width:24,height:24,fill:"var(--red)"})}),(0,h.jsx)("p",{className:B.favoriteText,children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432 \u043e\u0431\u0440\u0430\u043d\u0435"})]}),(0,h.jsxs)("ul",{className:B.detailsList,children:[(0,h.jsxs)("li",{className:B.detailsItem,children:[(0,h.jsx)("p",{className:B.text,children:"\u0420\u0456\u043a \u0432\u0438\u0434\u0430\u043d\u043d\u044f:"}),(0,h.jsx)("p",{className:B.value,children:r.book_year})]}),(0,h.jsxs)("li",{className:B.detailsItem,children:[(0,h.jsx)("p",{className:B.text,children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0441\u0442\u043e\u0440\u0456\u043d\u043e\u043a:"}),(0,h.jsx)("p",{className:B.value,children:r.book_page_count})]})]})]}),(0,h.jsxs)("ul",{className:B.editButtonContainer,children:[(0,h.jsx)("li",{children:(0,h.jsxs)("button",{type:"button",className:B.editButton,onClick:function(e){e.preventDefault(),v(N.a.BOOK_EDIT,{state:{from:j}})},children:[(0,h.jsx)(k.U.EDIT,{}),"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"]})}),(0,h.jsx)("li",{children:(0,h.jsx)("button",{type:"button",className:B.deleteButton,onClick:function(){var e=(0,x.Z)(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,m(!0),e.next=5,(0,s.MC)(r._id);case 5:m(!1),v(y?1===T?C(y):y:N.a.HOME),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),m(!1),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),children:f?(0,h.jsx)(g.m,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(k.U.TRASH,{}),"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"]})})})]})]})},y=n(2489),T=n(7282),C="BlockDescription_container__683jR",w="BlockDescription_tabs__Y1f+P",D="BlockDescription_activeTab__WXCJD",W="BlockDescription_disableTab__OnjO4",S="BlockDescription_descriptionWrapper__njLYj",Z="BlockDescription_title__B02e-",U="BlockDescription_value__nWRlw",O=function(e){var t=e.data;return(0,h.jsxs)("div",{className:C,children:[(0,h.jsxs)("div",{className:w,children:[(0,h.jsx)("button",{type:"button",className:D,children:"\u041e\u043f\u0438\u0441 \u0442\u043e\u0432\u0430\u0440\u0443"}),(0,h.jsx)("button",{type:"button",className:W,children:"\u0417\u043c\u0456\u0441\u0442 \u043a\u043d\u0438\u0433\u0438"}),(0,h.jsx)("button",{type:"button",className:W,children:"\u0424\u0440\u0430\u0433\u043c\u0435\u043d\u0442 \u0437 \u043a\u043d\u0438\u0433\u0438"}),(0,h.jsx)("button",{type:"button",className:W,children:"\u0412\u0456\u0434\u0433\u0443\u043a\u0438 \u043f\u043e\u043a\u0443\u043f\u0446\u0456\u0432"})]}),(0,h.jsxs)("div",{className:S,children:[(0,h.jsx)("p",{className:Z,children:"\u0410\u043d\u043e\u0442\u0430\u0446\u0456\u044f"}),(0,h.jsx)("p",{className:U,children:t.description})]})]})},E="BookDetailsPageComponent_container__yQSQG",F="BookDetailsPageComponent_wrapper__oti0I",G=function(){var e=(0,a.UO)().id,t=(0,r.i)((function(){return(0,s.zd)(e)}),[]),n=t.data,i=t.loading,o=[];return n&&(o=n.media_gallery_image.map((function(e,t){return{id:t,imageUrl:e,alt:"img-".concat(t)}}))),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:E,children:(0,h.jsxs)(T.W,{children:[(0,h.jsx)(c.O,{}),(0,h.jsxs)("div",{className:F,children:[i&&(0,h.jsx)(y.$,{}),n&&!!o.length&&(0,h.jsx)(v,{images:o}),n&&(0,h.jsx)(I,{data:n})]})]})}),(0,h.jsx)(T.W,{children:n&&(0,h.jsx)(O,{data:n})})]})},P=function(){return(0,h.jsx)(G,{})}},6028:function(e,t,n){n.d(t,{TA:function(){return d},MC:function(){return p},zd:function(){return u},yZ:function(){return l},u8:function(){return _}});var a=n(1243),r=function(e,t){return a.Z.get(e,t)},s=function(e,t,n){return a.Z.post(e,t,n)},c=function(e,t){return a.Z.delete(e,t)},i=function(e,t,n){return a.Z.put(e,t,n)},o="https://books-be.herokuapp.com/api",l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r("".concat(o,"/books?page=").concat(e))},u=function(e){return r("".concat(o,"/books/").concat(e))},d=function(e){return s("".concat(o,"/books/"),e)},_=function(e,t){return i("".concat(o,"/books/").concat(e),t)},p=function(e){return c("".concat(o,"/books/").concat(e))}}}]);
//# sourceMappingURL=book-page.d4a53182.chunk.js.map